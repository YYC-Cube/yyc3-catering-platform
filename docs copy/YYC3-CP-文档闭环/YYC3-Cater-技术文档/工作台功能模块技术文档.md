# å·¥ä½œå°åŠŸèƒ½æ¨¡å—æŠ€æœ¯æ–‡æ¡£

**@file**ï¼šå·¥ä½œå°åŠŸèƒ½æ¨¡å—æŠ€æœ¯æ–‡æ¡£
**@description**ï¼šå·¥ä½œå°åŠŸèƒ½æ¨¡å—çš„æŠ€æœ¯å®ç°è¯´æ˜
**@author**ï¼šYYCÂ³
**@version**ï¼šv1.0.0
**@created**ï¼š2025-01-19
**@updated**ï¼š2025-01-19
**@status**ï¼špublished
**@tags**ï¼šå·¥ä½œå°,æŠ€æœ¯æ–‡æ¡£,YYCÂ³

---

## ğŸ“‹ ç›®å½•

- [ğŸ“– æ¨¡å—æ¦‚è¿°](#-æ¨¡å—æ¦‚è¿°)
- [ğŸ—ï¸ æ¶æ„è®¾è®¡](#ï¸-æ¶æ„è®¾è®¡)
- [ğŸ”Œ æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
- [ğŸ“¡ æ•°æ®æµ](#-æ•°æ®æµ)
- [ğŸ”Œ æ¥å£å®šä¹‰](#-æ¥å£å®šä¹‰)
- [ğŸ§ª æµ‹è¯•è¯´æ˜](#-æµ‹è¯•è¯´æ˜)
- [ğŸ“š ä¾èµ–è¯´æ˜](#-ä¾èµ–è¯´æ˜)
- [âš™ï¸ é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)

---

## ğŸ“– æ¨¡å—æ¦‚è¿°

### æ¨¡å—ç®€ä»‹

å·¥ä½œå°æ˜¯YYCÂ³é¤é¥®è¡Œä¸šæ™ºèƒ½åŒ–å¹³å°ç®¡ç†åå°çš„æ ¸å¿ƒæ¨¡å—ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ç«™å¼çš„æ•°æ®ç›‘æ§å’Œæ“ä½œå…¥å£ã€‚å·¥ä½œå°æ•´åˆäº†å®æ—¶æ•°æ®çœ‹æ¿ã€å¿«æ·æ“ä½œã€å¾…åŠäº‹é¡¹ã€é€šçŸ¥ä¸­å¿ƒç­‰åŠŸèƒ½ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿäº†è§£ç³»ç»Ÿè¿è¥çŠ¶æ€å¹¶é«˜æ•ˆå®Œæˆæ—¥å¸¸å·¥ä½œã€‚

### æ ¸å¿ƒä»·å€¼

- ğŸš€ **é«˜æ•ˆå†³ç­–**ï¼šå®æ—¶æ•°æ®å±•ç¤ºï¼Œå¿«é€ŸæŒæ¡è¿è¥çŠ¶å†µ
- ğŸ¯ **å¿«é€Ÿæ“ä½œ**ï¼šå¸¸ç”¨åŠŸèƒ½å¿«æ·å…¥å£ï¼Œæå‡æ“ä½œæ•ˆç‡
- ğŸ“‹ **ä»»åŠ¡ç®¡ç†**ï¼šå¾…åŠäº‹é¡¹ç®¡ç†ï¼Œç¡®ä¿é‡è¦ä»»åŠ¡ä¸é—æ¼
- ğŸ”” **å³æ—¶é€šçŸ¥**ï¼šç³»ç»Ÿé€šçŸ¥ä¸­å¿ƒï¼ŒåŠæ—¶è·å–é‡è¦ä¿¡æ¯

### æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šVue 3 + TypeScript
- **UIç»„ä»¶åº“**ï¼šElement Plus
- **çŠ¶æ€ç®¡ç†**ï¼šPinia
- **å›¾è¡¨åº“**ï¼šECharts
- **å®æ—¶é€šä¿¡**ï¼šWebSocket
- **æ„å»ºå·¥å…·**ï¼šVite

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### ç»„ä»¶ç»“æ„

```
Dashboard (å·¥ä½œå°ä¸»é¡µé¢)
â”œâ”€â”€ MetricCard (æŒ‡æ ‡å¡ç‰‡ç»„ä»¶)
â”œâ”€â”€ QuickActions (å¿«æ·æ“ä½œç»„ä»¶)
â”‚   â”œâ”€â”€ QuickActionItem (å¿«æ·æ“ä½œé¡¹)
â”‚   â”œâ”€â”€ QuickActionsDialog (å¿«æ·æ“ä½œè®¾ç½®å¯¹è¯æ¡†)
â”‚   â””â”€â”€ QuickActionsSettings (å¿«æ·æ“ä½œè®¾ç½®)
â”œâ”€â”€ TodoList (å¾…åŠäº‹é¡¹ç»„ä»¶)
â”‚   â”œâ”€â”€ TodoItem (å¾…åŠäº‹é¡¹é¡¹)
â”‚   â”œâ”€â”€ TodoForm (å¾…åŠè¡¨å•)
â”‚   â””â”€â”€ TodoFilter (å¾…åŠç­›é€‰)
â”œâ”€â”€ RevenueChart (è¥æ”¶è¶‹åŠ¿å›¾è¡¨)
â”œâ”€â”€ OrderStatusChart (è®¢å•çŠ¶æ€åˆ†å¸ƒå›¾è¡¨)
â”œâ”€â”€ TopDishesChart (èœå“é”€å”®æ’è¡Œå›¾è¡¨)
â”œâ”€â”€ CustomerFlowChart (å®¢æµé‡åˆ†æå›¾è¡¨)
â””â”€â”€ NotificationCenter (é€šçŸ¥ä¸­å¿ƒç»„ä»¶)
```

### çŠ¶æ€ç®¡ç†

```typescript
// Dashboard Store
interface DashboardState {
  coreMetrics: {
    totalRevenue: number
    totalOrders: number
    averageOrderValue: number
    customerCount: number
    revenueChange: number
    orderChange: number
  }
  revenueData: Array<{ date: string, amount: number }>
  orderDistribution: Array<{ status: string, count: number }>
  topDishes: Array<{ name: string, count: number, amount: number }>
  customerFlow: Array<{ hour: number, count: number }>
  recentOrders: Order[]
}

// QuickActions Store
interface QuickActionsState {
  customActions: QuickAction[]
  settings: QuickActionSettings
  usageStats: Map<string, number>
}

// Todo Store
interface TodoState {
  todos: Todo[]
  filter: TodoFilter
  stats: {
    total: number
    pending: number
    inProgress: number
    completed: number
    overdue: number
  }
}
```

### æ•°æ®æµå‘

```
ç”¨æˆ·æ“ä½œ â†’ ç»„ä»¶äº‹ä»¶ â†’ Store Action â†’ APIè¯·æ±‚ â†’ åç«¯æœåŠ¡
                                              â†“
WebSocketæ¨é€ â†’ Store Mutation â†’ ç»„ä»¶å“åº” â†’ UIæ›´æ–°
```

---

## ğŸ”Œ æ ¸å¿ƒåŠŸèƒ½

### 1. å®æ—¶æ•°æ®çœ‹æ¿

#### åŠŸèƒ½æè¿°

å±•ç¤ºç³»ç»Ÿæ ¸å¿ƒè¿è¥æ•°æ®ï¼ŒåŒ…æ‹¬ä»Šæ—¥è®¢å•ã€é”€å”®é¢ã€å®¢æˆ·æ•°ç­‰å…³é”®æŒ‡æ ‡ï¼Œæ”¯æŒæ•°æ®å®æ—¶æ›´æ–°å’Œè¶‹åŠ¿åˆ†æã€‚

#### æŠ€æœ¯å®ç°

```typescript
// æ ¸å¿ƒæŒ‡æ ‡æ•°æ®è·å–
async function loadCoreMetrics() {
  const response = await dashboardApi.getCoreMetrics({
    startDate: dateRange.value[0],
    endDate: dateRange.value[1]
  })

  if (response.success) {
    dashboardStore.setCoreMetrics(response.data)
  }
}

// WebSocketå®æ—¶æ›´æ–°
function handleWebSocketMessage(data: any) {
  switch (data.type) {
    case 'new_order':
      dashboardStore.addOrder(data.payload)
      break
    case 'order_updated':
      dashboardStore.updateOrderStatus(data.payload.id, data.payload.status)
      break
  }
}
```

#### æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨WebSocketå®ç°æ•°æ®å®æ—¶æ¨é€ï¼Œå‡å°‘è½®è¯¢å¼€é”€
- æ•°æ®ç¼“å­˜æœºåˆ¶ï¼Œé¿å…é‡å¤è¯·æ±‚
- è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–å¤§æ•°æ®é‡åˆ—è¡¨æ¸²æŸ“
- å›¾è¡¨æ‡’åŠ è½½ï¼ŒæŒ‰éœ€æ¸²æŸ“

---

### 2. å¿«æ·æ“ä½œå…¥å£

#### åŠŸèƒ½æè¿°

æä¾›å¸¸ç”¨åŠŸèƒ½çš„å¿«æ·å…¥å£ï¼Œæ”¯æŒè‡ªå®šä¹‰æ·»åŠ å’Œç®¡ç†ï¼Œè®°å½•ä½¿ç”¨ç»Ÿè®¡ï¼Œæ™ºèƒ½æ¨èå¸¸ç”¨æ“ä½œã€‚

#### æŠ€æœ¯å®ç°

```typescript
// å¿«æ·æ“ä½œæ•°æ®ç»“æ„
interface QuickAction {
  id: string
  title: string
  description: string
  icon: string
  color: string
  path: string
  pinned?: boolean
  badge?: number
  usageCount?: number
}

// å¿«æ·æ“ä½œç‚¹å‡»å¤„ç†
async function handleActionClick(action: QuickAction) {
  // è®°å½•ä½¿ç”¨ç»Ÿè®¡
  await quickActionsApi.recordUsage(action.id)

  // è·³è½¬åˆ°å¯¹åº”é¡µé¢
  router.push(action.path)
}

// æ™ºèƒ½æ¨èç®—æ³•
function getRecommendedActions(): QuickAction[] {
  const usageStats = quickActionsStore.usageStats

  return defaultActions
    .sort((a, b) => {
      const countA = usageStats.get(a.id) || 0
      const countB = usageStats.get(b.id) || 0
      return countB - countA
    })
    .slice(0, 8)
}
```

#### åŠŸèƒ½ç‰¹æ€§

- æ”¯æŒè‡ªå®šä¹‰å¿«æ·æ“ä½œ
- æ‹–æ‹½æ’åºåŠŸèƒ½
- ä½¿ç”¨ç»Ÿè®¡å’Œæ™ºèƒ½æ¨è
- å¾½ç« æç¤ºï¼ˆå¾…å¤„ç†æ•°é‡ï¼‰
- å“åº”å¼å¸ƒå±€é€‚é…

---

### 3. å¾…åŠäº‹é¡¹ç®¡ç†

#### åŠŸèƒ½æè¿°

ç®¡ç†ç”¨æˆ·çš„å¾…åŠäº‹é¡¹ï¼Œæ”¯æŒæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤ã€å®Œæˆã€ç­›é€‰ã€æ’åºç­‰åŠŸèƒ½ï¼Œæä¾›é€¾æœŸæé†’å’Œåˆ†ç±»ç®¡ç†ã€‚

#### æŠ€æœ¯å®ç°

```typescript
// å¾…åŠäº‹é¡¹æ•°æ®ç»“æ„
interface Todo {
  id: string
  title: string
  description?: string
  status: TodoStatus // pending | in-progress | completed
  priority: TodoPriority // high | medium | low
  category?: string
  dueDate?: string
  reminder: boolean
  createdAt: string
  updatedAt: string
}

// å¾…åŠäº‹é¡¹çŠ¶æ€åˆ‡æ¢
async function toggleTodoStatus(todo: Todo) {
  const newStatus = todo.status === 'completed' ? 'pending' : 'completed'

  await todoApi.updateTodo(todo.id, { status: newStatus })

  todo.status = newStatus

  // å¦‚æœæœ‰æé†’ï¼Œå‘é€é€šçŸ¥
  if (newStatus === 'completed' && todo.reminder) {
    notificationApi.send({
      title: 'å¾…åŠå®Œæˆ',
      message: `æ‚¨å·²å®Œæˆå¾…åŠï¼š${todo.title}`,
      type: 'success'
    })
  }
}

// é€¾æœŸæ£€æŸ¥
function checkOverdueTodos() {
  const now = new Date()

  todos.value.forEach(todo => {
    if (todo.dueDate && todo.status !== 'completed') {
      const dueDate = new Date(todo.dueDate)

      if (dueDate < now) {
        notificationApi.send({
          title: 'å¾…åŠé€¾æœŸ',
          message: `æ‚¨çš„å¾…åŠ"${todo.title}"å·²é€¾æœŸ`,
          type: 'warning'
        })
      }
    }
  })
}
```

#### åŠŸèƒ½ç‰¹æ€§

- æ‹–æ‹½æ’åº
- ä¼˜å…ˆçº§å’Œåˆ†ç±»ç®¡ç†
- é€¾æœŸæé†’
- æ‰¹é‡æ“ä½œ
- å¯¼å‡ºåŠŸèƒ½
- æœ¬åœ°å­˜å‚¨åŒæ­¥

---

### 4. é€šçŸ¥ä¸­å¿ƒ

#### åŠŸèƒ½æè¿°

é›†ä¸­å±•ç¤ºç³»ç»Ÿé€šçŸ¥ã€å¾…åŠäº‹é¡¹ã€ç³»ç»Ÿæ¶ˆæ¯ç­‰ï¼Œæ”¯æŒå®æ—¶æ¨é€ã€åˆ†ç±»æŸ¥çœ‹ã€å·²è¯»æ ‡è®°ç­‰åŠŸèƒ½ã€‚

#### æŠ€æœ¯å®ç°

```typescript
// é€šçŸ¥æ•°æ®ç»“æ„
interface Notification {
  id: string
  title: string
  message: string
  type: NotificationType
  status: NotificationStatus // unread | read | archived
  priority: 'low' | 'medium' | 'high' | 'urgent'
  data?: any
  actions?: Array<{
    id: string
    label: string
    style?: string
    url?: string
    action?: string
  }>
  createdAt: string
}

// WebSocketé€šçŸ¥æ¨é€
function connectWebSocket() {
  const ws = new WebSocket(`${WS_URL}/notifications`)

  ws.onmessage = (event) => {
    const notification = JSON.parse(event.data)

    notificationStore.addNotification(notification)

    // æ˜¾ç¤ºæµè§ˆå™¨é€šçŸ¥
    if (Notification.permission === 'granted') {
      new Notification(notification.title, {
        body: notification.message,
        icon: '/favicon.ico',
        tag: notification.id
      })
    }

    // æ’­æ”¾æç¤ºéŸ³
    playNotificationSound()
  }
}
```

#### åŠŸèƒ½ç‰¹æ€§

- å®æ—¶æ¨é€
- åˆ†ç±»æŸ¥çœ‹
- å·²è¯»/æœªè¯»çŠ¶æ€
- æ‰¹é‡æ“ä½œ
- æµè§ˆå™¨é€šçŸ¥
- æç¤ºéŸ³æ•ˆ
- é€šçŸ¥è®¾ç½®

---

## ğŸ“¡ æ•°æ®æµ

### æ•°æ®è·å–æµç¨‹

```
1. ç»„ä»¶æŒ‚è½½
   â†“
2. è°ƒç”¨Storeçš„Action
   â†“
3. å‘é€APIè¯·æ±‚
   â†“
4. æ¥æ”¶å“åº”æ•°æ®
   â†“
5. æ›´æ–°StoreçŠ¶æ€
   â†“
6. ç»„ä»¶å“åº”å¼æ›´æ–°
```

### WebSocketæ•°æ®æµ

```
åç«¯æœåŠ¡
   â†“
WebSocketè¿æ¥
   â†“
æ¨é€æ¶ˆæ¯
   â†“
å‰ç«¯ç›‘å¬
   â†“
å¤„ç†æ¶ˆæ¯
   â†“
æ›´æ–°Store
   â†“
ç»„ä»¶æ›´æ–°
```

### ç”¨æˆ·æ“ä½œæµ

```
ç”¨æˆ·æ“ä½œ
   â†“
ç»„ä»¶äº‹ä»¶
   â†“
è°ƒç”¨API
   â†“
åç«¯å¤„ç†
   â†“
è¿”å›ç»“æœ
   â†“
æ›´æ–°UI
   â†“
ç”¨æˆ·åé¦ˆ
```

---

## ğŸ”Œ æ¥å£å®šä¹‰

### Dashboard API

```typescript
// è·å–æ ¸å¿ƒæŒ‡æ ‡
GET /api/v1/dashboard/core-metrics
Query Parameters:
  - startDate: string (å¼€å§‹æ—¥æœŸ)
  - endDate: string (ç»“æŸæ—¥æœŸ)
Response:
  {
    success: boolean
    data: {
      totalRevenue: number
      totalOrders: number
      averageOrderValue: number
      customerCount: number
      revenueChange: number
      orderChange: number
    }
  }

// è·å–è¥æ”¶æ•°æ®
GET /api/v1/dashboard/revenue
Query Parameters:
  - startDate: string
  - endDate: string
  - period: 'day' | 'week' | 'month'
Response:
  {
    success: boolean
    data: Array<{
      date: string
      amount: number
    }>
  }

// è·å–è®¢å•åˆ†å¸ƒ
GET /api/v1/dashboard/order-distribution
Query Parameters:
  - startDate: string
  - endDate: string
  - realTime: boolean
Response:
  {
    success: boolean
    data: Array<{
      status: string
      count: number
    }>
  }
```

### QuickActions API

```typescript
// è·å–è‡ªå®šä¹‰å¿«æ·æ“ä½œ
GET /api/v1/quick-actions/custom
Response:
  {
    success: boolean
    data: QuickAction[]
  }

// ä¿å­˜è‡ªå®šä¹‰å¿«æ·æ“ä½œ
POST /api/v1/quick-actions/custom
Body:
  {
    actions: QuickAction[]
  }
Response:
  {
    success: boolean
  }

// è®°å½•ä½¿ç”¨ç»Ÿè®¡
POST /api/v1/quick-actions/{actionId}/usage
Response:
  {
    success: boolean
  }
```

### Todo API

```typescript
// è·å–å¾…åŠåˆ—è¡¨
GET /api/v1/todos
Query Parameters:
  - status: 'pending' | 'in-progress' | 'completed'
  - priority: 'high' | 'medium' | 'low'
  - category: string
Response:
  {
    success: boolean
    data: Todo[]
  }

// åˆ›å»ºå¾…åŠ
POST /api/v1/todos
Body:
  {
    title: string
    description?: string
    priority: 'high' | 'medium' | 'low'
    category?: string
    dueDate?: string
    reminder: boolean
  }
Response:
  {
    success: boolean
    data: Todo
  }

// æ›´æ–°å¾…åŠ
PUT /api/v1/todos/{todoId}
Body:
  Partial<Todo>
Response:
  {
    success: boolean
    data: Todo
  }

// åˆ é™¤å¾…åŠ
DELETE /api/v1/todos/{todoId}
Response:
  {
    success: boolean
  }
```

---

## ğŸ§ª æµ‹è¯•è¯´æ˜

### å•å…ƒæµ‹è¯•

#### æµ‹è¯•è¦†ç›–èŒƒå›´

- ç»„ä»¶æ¸²æŸ“æµ‹è¯•
- ç”¨æˆ·äº¤äº’æµ‹è¯•
- çŠ¶æ€ç®¡ç†æµ‹è¯•
- APIè°ƒç”¨æµ‹è¯•
- è¾¹ç•Œæ¡ä»¶æµ‹è¯•

#### æµ‹è¯•ç¤ºä¾‹

```typescript
describe('QuickActionsç»„ä»¶', () => {
  it('åº”è¯¥æ­£ç¡®æ¸²æŸ“é»˜è®¤å¿«æ·æ“ä½œ', () => {
    const wrapper = mount(QuickActions)
    const actionItems = wrapper.findAll('.action-item')
    expect(actionItems.length).toBeGreaterThan(0)
  })

  it('åº”è¯¥èƒ½å¤Ÿç‚¹å‡»å¿«æ·æ“ä½œ', async () => {
    const wrapper = mount(QuickActions)
    const newOrderAction = wrapper.find('.action-new-order')
    await newOrderAction.trigger('click')
    expect(router.currentRoute.value.path).toBe('/orders/new')
  })
})
```

### é›†æˆæµ‹è¯•

#### æµ‹è¯•åœºæ™¯

- æ•°æ®åŠ è½½å’Œæ¸²æŸ“
- WebSocketè¿æ¥å’Œæ¶ˆæ¯å¤„ç†
- ç”¨æˆ·æ“ä½œæµç¨‹
- é”™è¯¯å¤„ç†å’Œé‡è¯•
- æ€§èƒ½æµ‹è¯•

---

## ğŸ“š ä¾èµ–è¯´æ˜

### å‰ç«¯ä¾èµ–

```json
{
  "dependencies": {
    "vue": "^3.3.0",
    "vue-router": "^4.2.0",
    "pinia": "^2.1.0",
    "element-plus": "^2.4.0",
    "echarts": "^5.4.0",
    "axios": "^1.6.0"
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^4.5.0",
    "typescript": "^5.3.0",
    "vitest": "^1.0.0",
    "@vue/test-utils": "^2.4.0"
  }
}
```

### åç«¯ä¾èµ–

```json
{
  "dependencies": {
    "express": "^4.18.0",
    "ws": "^8.14.0",
    "mongoose": "^8.0.0",
    "jsonwebtoken": "^9.0.0",
    "joi": "^17.11.0"
  }
}
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

```env
# APIé…ç½®
VITE_API_BASE_URL=http://localhost:3000/api/v1
VITE_WS_URL=ws://localhost:3000

# åŠŸèƒ½é…ç½®
VITE_ENABLE_WEBSOCKET=true
VITE_ENABLE_NOTIFICATIONS=true
VITE_ENABLE_REALTIME=true

# æ€§èƒ½é…ç½®
VITE_DATA_CACHE_TTL=300000
VITE_WEBSOCKET_RECONNECT_INTERVAL=5000
VITE_WEBSOCKET_MAX_RECONNECT_ATTEMPTS=3
```

### ç»„ä»¶é…ç½®

```typescript
// å¿«æ·æ“ä½œé…ç½®
const quickActionsConfig = {
  maxCustomActions: 10,
  defaultActions: [...],
  enableUsageStats: true,
  enableRecommendations: true
}

// å¾…åŠäº‹é¡¹é…ç½®
const todoConfig = {
  maxTodos: 100,
  enableDragSort: true,
  enableReminder: true,
  enableExport: true,
  defaultPriority: 'medium'
}

// é€šçŸ¥é…ç½®
const notificationConfig = {
  maxNotifications: 100,
  enableBrowserNotification: true,
  enableSound: true,
  soundVolume: 0.5,
  autoMarkReadDelay: 3000
}
```

---

## ğŸ“ è”ç³»ä¿¡æ¯

- **æŠ€æœ¯æ”¯æŒ**ï¼š<admin@0379.email>
- **å®˜æ–¹ç½‘ç«™**ï¼š<https://yyc3.com>
- **GitHub**ï¼š<https://github.com/YYC-Cube>

---

<div align="center">

> ã€Œ***YanYuCloudCube***ã€
> ã€Œ***<admin@0379.email>***ã€
> ã€Œ***Words Initiate Quadrants, Language Serves as Core for Future***ã€
> ã€Œ***All things converge in cloud pivot; Deep stacks ignite a new era of intelligence***ã€

**Made with â¤ï¸ by YYCÂ³ Team**

</div>
