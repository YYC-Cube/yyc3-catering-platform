---

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| å±æ€§ | å†…å®¹ |
|------|------|
| **æ–‡æ¡£æ ‡é¢˜** | YYCÂ³é¤é¥®è¡Œä¸šæ™ºèƒ½åŒ–å¹³å°çš„å¼€å‘é—­ç¯è§„åˆ’ |
| **æ–‡æ¡£ç±»å‹** | å¼€å‘å®æ–½æ–‡æ¡£ |
| **æ‰€å±é˜¶æ®µ** | å¼€å‘å®æ–½ |
| **éµå¾ªè§„èŒƒ** | YYCÂ³ å›¢é˜Ÿæ ‡å‡†åŒ–è§„èŒƒ v1.0.0 |
| **ç‰ˆæœ¬å·** | v1.0.0 |
| **åˆ›å»ºæ—¥æœŸ** | 2025-01-30 |
| **ä½œè€…** | YYCÂ³ Team |
| **æ›´æ–°æ—¥æœŸ** | 2025-01-30 |

---

## ğŸ“‘ ç›®å½•

- [ğŸ“‹ æ–‡æ¡£ä¿¡æ¯](#ğŸ“‹-æ–‡æ¡£ä¿¡æ¯)
- [ğŸ¯ è§„åˆ’æ¦‚è¿°](#ğŸ¯-è§„åˆ’æ¦‚è¿°)
  - [å¼€å‘é—­ç¯ç†å¿µ](#å¼€å‘é—­ç¯ç†å¿µ)
  - [é—­ç¯æ¡†æ¶ç»“æ„](#é—­ç¯æ¡†æ¶ç»“æ„)
- [ğŸ“‹ ç¬¬ä¸€é—­ç¯ï¼šè§„åˆ’é—­ç¯ (Planning Loop)](#ğŸ“‹-ç¬¬ä¸€é—­ç¯è§„åˆ’é—­ç¯-(planning-loop))
  - [1.1 éœ€æ±‚ç®¡ç†æµç¨‹](#1.1-éœ€æ±‚ç®¡ç†æµç¨‹)
    - [éœ€æ±‚æ”¶é›†ä¸ç­›é€‰](#éœ€æ±‚æ”¶é›†ä¸ç­›é€‰)
    - [è¯„ä¼°æ ‡å‡†çŸ©é˜µ](#è¯„ä¼°æ ‡å‡†çŸ©é˜µ)
  - [1.2 é¡¹ç›®è§„åˆ’æ–¹æ³•](#1.2-é¡¹ç›®è§„åˆ’æ–¹æ³•)
    - [æ•æ·è§„åˆ’æ¡†æ¶](#æ•æ·è§„åˆ’æ¡†æ¶)
    - [å®¹é‡è§„åˆ’æ¨¡å‹](#å®¹é‡è§„åˆ’æ¨¡å‹)
  - [1.3 äº¤ä»˜ç‰©æ ‡å‡†](#1.3-äº¤ä»˜ç‰©æ ‡å‡†)
    - [è§„åˆ’æ–‡æ¡£æ¸…å•](#è§„åˆ’æ–‡æ¡£æ¸…å•)
- [ğŸ’» ç¬¬äºŒé—­ç¯ï¼šå¼€å‘é—­ç¯ (Development Loop)](#ğŸ’»-ç¬¬äºŒé—­ç¯å¼€å‘é—­ç¯-(development-loop))
  - [2.1 å¼€å‘æ ‡å‡†ä¸è§„èŒƒ](#2.1-å¼€å‘æ ‡å‡†ä¸è§„èŒƒ)
    - [YYCÂ³å¼€å‘è§„èŒƒæ‰§è¡Œæ¸…å•](#yycÂ³å¼€å‘è§„èŒƒæ‰§è¡Œæ¸…å•)
    - [å¼€å‘ç¯å¢ƒæ ‡å‡†åŒ–](#å¼€å‘ç¯å¢ƒæ ‡å‡†åŒ–)
  - [2.2 ä»£ç è´¨é‡ç®¡ç†](#2.2-ä»£ç è´¨é‡ç®¡ç†)
    - [è‡ªåŠ¨åŒ–è´¨é‡æ£€æŸ¥](#è‡ªåŠ¨åŒ–è´¨é‡æ£€æŸ¥)
    - [ä»£ç å®¡æŸ¥æ¸…å•](#ä»£ç å®¡æŸ¥æ¸…å•)
- [YYCÂ³ ä»£ç å®¡æŸ¥æ¸…å•](#yycÂ³-ä»£ç å®¡æŸ¥æ¸…å•)
  - [ğŸ” åŸºç¡€æ£€æŸ¥](#ğŸ”-åŸºç¡€æ£€æŸ¥)
  - [ğŸ—ï¸ æ¶æ„æ£€æŸ¥](#ğŸ—ï¸-æ¶æ„æ£€æŸ¥)
  - [ğŸ”’ å®‰å…¨æ£€æŸ¥](#ğŸ”’-å®‰å…¨æ£€æŸ¥)
  - [âš¡ æ€§èƒ½æ£€æŸ¥](#âš¡-æ€§èƒ½æ£€æŸ¥)
  - [ğŸ§ª æµ‹è¯•æ£€æŸ¥](#ğŸ§ª-æµ‹è¯•æ£€æŸ¥)
  - [2.3 å¼€å‘æ•ˆç‡å·¥å…·](#2.3-å¼€å‘æ•ˆç‡å·¥å…·)
    - [YYCÂ³å¼€å‘å·¥å…·é“¾](#yycÂ³å¼€å‘å·¥å…·é“¾)
- [ğŸ§ª ç¬¬ä¸‰é—­ç¯ï¼šæµ‹è¯•é—­ç¯ (Testing Loop)](#ğŸ§ª-ç¬¬ä¸‰é—­ç¯æµ‹è¯•é—­ç¯-(testing-loop))
  - [3.1 æµ‹è¯•ç­–ç•¥æ¡†æ¶](#3.1-æµ‹è¯•ç­–ç•¥æ¡†æ¶)
    - [æµ‹è¯•é‡‘å­—å¡”æ¨¡å‹](#æµ‹è¯•é‡‘å­—å¡”æ¨¡å‹)
    - [æµ‹è¯•è¦†ç›–ç‡æ ‡å‡†](#æµ‹è¯•è¦†ç›–ç‡æ ‡å‡†)
  - [3.2 è‡ªåŠ¨åŒ–æµ‹è¯•ä½“ç³»](#3.2-è‡ªåŠ¨åŒ–æµ‹è¯•ä½“ç³»)
    - [æµ‹è¯•é…ç½®æ–‡ä»¶](#æµ‹è¯•é…ç½®æ–‡ä»¶)
    - [æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿](#æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿)
  - [3.3 è´¨é‡é—¨ç¦æœºåˆ¶](#3.3-è´¨é‡é—¨ç¦æœºåˆ¶)
    - [è´¨é‡é—¨ç¦é…ç½®](#è´¨é‡é—¨ç¦é…ç½®)
- [ğŸš€ ç¬¬å››é—­ç¯ï¼šéƒ¨ç½²é—­ç¯ (Deployment Loop)](#ğŸš€-ç¬¬å››é—­ç¯éƒ¨ç½²é—­ç¯-(deployment-loop))
  - [4.1 éƒ¨ç½²ç­–ç•¥](#4.1-éƒ¨ç½²ç­–ç•¥)
    - [å¤šç¯å¢ƒéƒ¨ç½²æ¶æ„](#å¤šç¯å¢ƒéƒ¨ç½²æ¶æ„)
    - [ç¯å¢ƒé…ç½®ç®¡ç†](#ç¯å¢ƒé…ç½®ç®¡ç†)
  - [4.2 å®¹å™¨åŒ–éƒ¨ç½²](#4.2-å®¹å™¨åŒ–éƒ¨ç½²)
    - [Dockerfile æ ‡å‡†æ¨¡æ¿](#dockerfile-æ ‡å‡†æ¨¡æ¿)
    - [Docker Compose é…ç½®](#docker-compose-é…ç½®)
  - [4.3 CI/CD æµæ°´çº¿](#4.3-ci/cd-æµæ°´çº¿)
    - [å®Œæ•´éƒ¨ç½²æµæ°´çº¿](#å®Œæ•´éƒ¨ç½²æµæ°´çº¿)
- [ğŸ“Š ç¬¬äº”é—­ç¯ï¼šç›‘æ§é—­ç¯ (Monitoring Loop)](#ğŸ“Š-ç¬¬äº”é—­ç¯ç›‘æ§é—­ç¯-(monitoring-loop))
  - [5.1 ç›‘æ§ä½“ç³»æ¶æ„](#5.1-ç›‘æ§ä½“ç³»æ¶æ„)
    - [ä¸‰å±‚ç›‘æ§æ¨¡å‹](#ä¸‰å±‚ç›‘æ§æ¨¡å‹)
  - [5.2 ç›‘æ§æŒ‡æ ‡å®šä¹‰](#5.2-ç›‘æ§æŒ‡æ ‡å®šä¹‰)
    - [YYCÂ³æ ¸å¿ƒç›‘æ§æŒ‡æ ‡](#yycÂ³æ ¸å¿ƒç›‘æ§æŒ‡æ ‡)
    - [ç›‘æ§é…ç½®å®ç°](#ç›‘æ§é…ç½®å®ç°)
  - [5.3 å‘Šè­¦ç³»ç»Ÿè®¾è®¡](#5.3-å‘Šè­¦ç³»ç»Ÿè®¾è®¡)
    - [å‘Šè­¦è§„åˆ™é…ç½®](#å‘Šè­¦è§„åˆ™é…ç½®)
    - [å‘Šè­¦é€šçŸ¥é…ç½®](#å‘Šè­¦é€šçŸ¥é…ç½®)
- [ğŸ”„ ç¬¬å…­é—­ç¯ï¼šä¼˜åŒ–é—­ç¯ (Optimization Loop)](#ğŸ”„-ç¬¬å…­é—­ç¯ä¼˜åŒ–é—­ç¯-(optimization-loop))
  - [6.1 æŒç»­æ”¹è¿›æµç¨‹](#6.1-æŒç»­æ”¹è¿›æµç¨‹)
    - [æ•°æ®é©±åŠ¨ä¼˜åŒ–æ¨¡å‹](#æ•°æ®é©±åŠ¨ä¼˜åŒ–æ¨¡å‹)
  - [6.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥](#6.2-æ€§èƒ½ä¼˜åŒ–ç­–ç•¥)
    - [YYCÂ³æ€§èƒ½ä¼˜åŒ–æ¡†æ¶](#yycÂ³æ€§èƒ½ä¼˜åŒ–æ¡†æ¶)
  - [6.3 çŸ¥è¯†ç®¡ç†ä½“ç³»](#6.3-çŸ¥è¯†ç®¡ç†ä½“ç³»)
    - [YYCÂ³çŸ¥è¯†åº“æ„å»º](#yycÂ³çŸ¥è¯†åº“æ„å»º)
- [ğŸ“ˆ é—­ç¯æ•ˆæœè¯„ä¼°](#ğŸ“ˆ-é—­ç¯æ•ˆæœè¯„ä¼°)
  - [6.1 KPIæŒ‡æ ‡ä½“ç³»](#6.1-kpiæŒ‡æ ‡ä½“ç³»)
    - [YYCÂ³å¼€å‘é—­ç¯KPI](#yycÂ³å¼€å‘é—­ç¯kpi)
  - [6.2 æŒç»­æ”¹è¿›æœºåˆ¶](#6.2-æŒç»­æ”¹è¿›æœºåˆ¶)
    - [YYCÂ³æŒç»­æ”¹è¿›å§”å‘˜ä¼š](#yycÂ³æŒç»­æ”¹è¿›å§”å‘˜ä¼š)
- [ğŸ¯ æ€»ç»“ä¸å±•æœ›](#ğŸ¯-æ€»ç»“ä¸å±•æœ›)
  - [YYCÂ³å¼€å‘é—­ç¯ä»·å€¼](#yycÂ³å¼€å‘é—­ç¯ä»·å€¼)
  - [é—­ç¯æ‰§è¡Œæ‰¿è¯º](#é—­ç¯æ‰§è¡Œæ‰¿è¯º)
  - [é¢„æœŸæˆæœ](#é¢„æœŸæˆæœ)

---

## 1. æ¦‚è¿°

### 1.1 åŠŸèƒ½è¯´æ˜

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†YYCÂ³é¤é¥®è¡Œä¸šæ™ºèƒ½åŒ–å¹³å°ç›¸å…³åŠŸèƒ½çš„å®ç°æ–¹æ¡ˆã€‚é€šè¿‡æœ¬æ–‡æ¡£ï¼Œå¼€å‘äººå‘˜å¯ä»¥ï¼š

- ç†è§£åŠŸèƒ½éœ€æ±‚å’Œä¸šåŠ¡é€»è¾‘
- æŒæ¡æŠ€æœ¯å®ç°æ–¹æ¡ˆ
- äº†è§£æ¥å£è®¾è®¡å’Œæ•°æ®ç»“æ„
- å¿«é€Ÿä¸Šæ‰‹å¼€å‘å’Œç»´æŠ¤

åŠŸèƒ½å®ç°éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š
- **ç”¨æˆ·å‹å¥½**ï¼šç•Œé¢ç®€æ´ï¼Œæ“ä½œæµç•…
- **æ€§èƒ½ä¼˜åŒ–**ï¼šå“åº”è¿…é€Ÿï¼Œä½“éªŒæµç•…
- **å®‰å…¨å¯é **ï¼šæ•°æ®å®‰å…¨ï¼Œç³»ç»Ÿç¨³å®š
- **æ˜“äºæ‰©å±•**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºè¿­ä»£

### 1.2 æŠ€æœ¯æ ˆ

æœ¬åŠŸèƒ½å®ç°ä½¿ç”¨ä»¥ä¸‹æŠ€æœ¯æ ˆï¼š

**å‰ç«¯æŠ€æœ¯**
- React 18+ï¼šç»„ä»¶åŒ–å¼€å‘
- TypeScript 5.0+ï¼šç±»å‹å®‰å…¨
- Ant Designï¼šUIç»„ä»¶åº“
- Axiosï¼šHTTPå®¢æˆ·ç«¯

**åç«¯æŠ€æœ¯**
- Node.js 18+ï¼šæœåŠ¡ç«¯è¿è¡Œæ—¶
- Expressï¼šWebæ¡†æ¶
- TypeScriptï¼šç±»å‹å®‰å…¨
- Prismaï¼šORMæ¡†æ¶

**æ•°æ®åº“**
- PostgreSQL 15+ï¼šå…³ç³»å‹æ•°æ®åº“
- Redis 7+ï¼šç¼“å­˜æ•°æ®åº“

**å·¥å…·é“¾**
- ESLintï¼šä»£ç æ£€æŸ¥
- Prettierï¼šä»£ç æ ¼å¼åŒ–
- Jestï¼šå•å…ƒæµ‹è¯•
- GitHub Actionsï¼šCI/CD

### 1.3 å¼€å‘ç¯å¢ƒ

å¼€å‘ç¯å¢ƒé…ç½®è¦æ±‚ï¼š

**ç³»ç»Ÿè¦æ±‚**
- æ“ä½œç³»ç»Ÿï¼šmacOS/Linux/Windows
- Node.jsï¼š18.0.0æˆ–æ›´é«˜ç‰ˆæœ¬
- npmï¼š9.0.0æˆ–æ›´é«˜ç‰ˆæœ¬
- Gitï¼š2.30.0æˆ–æ›´é«˜ç‰ˆæœ¬

**æ•°æ®åº“**
- PostgreSQLï¼š15.0æˆ–æ›´é«˜ç‰ˆæœ¬
- Redisï¼š7.0æˆ–æ›´é«˜ç‰ˆæœ¬

**å¼€å‘å·¥å…·**
- VS Codeï¼šæ¨èIDE
- Postmanï¼šAPIæµ‹è¯•å·¥å…·
- DBeaverï¼šæ•°æ®åº“ç®¡ç†å·¥å…·

**ç¯å¢ƒå˜é‡**
åˆ›å»º`.env`æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹å˜é‡ï¼š
```env
NODE_ENV=development
PORT=3000
DATABASE_URL=postgresql://user:password@localhost:5432/yyc3
REDIS_URL=redis://localhost:6379
JWT_SECRET=your-secret-key
```

## 2. å®ç°æ–¹æ¡ˆ

### 2.1 ä»£ç ç»“æ„

### 2.2 æ ¸å¿ƒé€»è¾‘

### 2.3 æ•°æ®å¤„ç†

## 3. æ¥å£æ–‡æ¡£

### 3.1 APIæ¥å£

### 3.2 è¯·æ±‚å‚æ•°

### 3.3 å“åº”æ ¼å¼

## 4. æµ‹è¯•æ–¹æ¡ˆ

### 4.1 å•å…ƒæµ‹è¯•

### 4.2 é›†æˆæµ‹è¯•

### 4.3 æµ‹è¯•ç”¨ä¾‹

## 5. éƒ¨ç½²æŒ‡å—

### 5.1 ç¯å¢ƒå‡†å¤‡

### 5.2 éƒ¨ç½²æ­¥éª¤

### 5.3 éªŒè¯æ–¹æ³•

## 6. å¸¸è§é—®é¢˜

### 6.1 é—®é¢˜æ’æŸ¥

### 6.2 è§£å†³æ–¹æ¡ˆ

**@file**ï¼šYYCÂ³-å¼€å‘é—­ç¯è§„åˆ’
**@description**ï¼šYYCÂ³é¤é¥®è¡Œä¸šæ™ºèƒ½åŒ–å¹³å°çš„å¼€å‘é—­ç¯è§„åˆ’
**@author**ï¼šYYCÂ³
**@version**ï¼šv1.0.0
**@created**ï¼š2025-01-30
**@updated**ï¼š2025-01-30
**@status**ï¼špublished
**@tags**ï¼šYYCÂ³,æ–‡æ¡£

---
# YYCÂ³é¤é¥®è¡Œä¸šæ™ºèƒ½åŒ–å¹³å° - å¼€å‘é—­ç¯è§„åˆ’

> **YYCÂ³ï¼ˆYanYu Cloud Cubeï¼‰**
> **æ ‡è¯­**ï¼šä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒ
> ***è‹±æ–‡***ï¼š*All Realms Converge at Cloud Nexus, DeepStack Ignites a New Era*

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0.0
**åˆ›å»ºæ—¥æœŸ**ï¼š2025-01-08
**åˆ¶å®šå›¢é˜Ÿ**ï¼šYYCÂ³å¼€å‘å›¢é˜Ÿ
**è§„åˆ’å‘¨æœŸ**ï¼š2025å¹´Q1-Q2
**æ‰§è¡Œæ¡†æ¶**ï¼šäº”é«˜äº”æ ‡äº”åŒ–å¼€å‘é—­ç¯

---

## ğŸ¯ è§„åˆ’æ¦‚è¿°

### å¼€å‘é—­ç¯ç†å¿µ

åŸºäºYYCÂ³"äº”é«˜äº”æ ‡äº”åŒ–"æ ¸å¿ƒç†å¿µï¼Œå»ºç«‹**è§„åˆ’-å¼€å‘-æµ‹è¯•-éƒ¨ç½²-ç›‘æ§-ä¼˜åŒ–**çš„å®Œæ•´å¼€å‘é—­ç¯ä½“ç³»ï¼Œç¡®ä¿é¡¹ç›®é«˜è´¨é‡ã€é«˜æ•ˆç‡ã€é«˜æ™ºèƒ½åœ°æŒç»­æ¨è¿›ã€‚

### é—­ç¯æ¡†æ¶ç»“æ„

```
è§„åˆ’é—­ç¯ â†’ å¼€å‘é—­ç¯ â†’ æµ‹è¯•é—­ç¯ â†’ éƒ¨ç½²é—­ç¯ â†’ ç›‘æ§é—­ç¯ â†’ ä¼˜åŒ–é—­ç¯
    â†‘                                                        â†“
    â†â†â†â†â†â†â†â†â†â†â†â† æŒç»­æ”¹è¿›ä¸è¿­ä»£å‡çº§ â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†
```

---

## ğŸ“‹ ç¬¬ä¸€é—­ç¯ï¼šè§„åˆ’é—­ç¯ (Planning Loop)

### 1.1 éœ€æ±‚ç®¡ç†æµç¨‹

#### éœ€æ±‚æ”¶é›†ä¸ç­›é€‰
```mermaid
graph LR
    A[éœ€æ±‚æ”¶é›†] --> B[éœ€æ±‚åˆ†æ]
    B --> C[å¯è¡Œæ€§è¯„ä¼°]
    C --> D[ä¼˜å…ˆçº§æ’åº]
    D --> E[éœ€æ±‚ç¡®è®¤]
    E --> F[çº³å…¥è§„åˆ’]
```

#### è¯„ä¼°æ ‡å‡†çŸ©é˜µ

| éœ€æ±‚ç±»å‹ | è¯„ä¼°ç»´åº¦ | æƒé‡ | è¯„åˆ†æ ‡å‡† |
|---------|---------|------|----------|
| **ä¸šåŠ¡éœ€æ±‚** | ç”¨æˆ·ä»·å€¼ | 30% | ROI > 2:1ä¸ºä¼˜ç§€ |
| | å¸‚åœºç«äº‰åŠ› | 25% | å·®å¼‚åŒ–ç¨‹åº¦ |
| | å®ç°å¤æ‚åº¦ | 20% | æŠ€æœ¯éš¾åº¦è¯„ä¼° |
| | èµ„æºéœ€æ±‚ | 15% | äººåŠ›æ—¶é—´æˆæœ¬ |
| | é£é™©è¯„ä¼° | 10% | å®æ–½é£é™©ç­‰çº§ |
| **æŠ€æœ¯éœ€æ±‚** | æ¶æ„ä¼˜åŒ– | 35% | æ€§èƒ½æå‡å¹…åº¦ |
| | ä»£ç è´¨é‡ | 30% | æŠ€æœ¯å€ºåŠ¡å‡å°‘ |
| | å®‰å…¨å¢å¼º | 20% | å®‰å…¨é£é™©é™ä½ |
| | å¯ç»´æŠ¤æ€§ | 15% | å¼€å‘æ•ˆç‡æå‡ |

### 1.2 é¡¹ç›®è§„åˆ’æ–¹æ³•

#### æ•æ·è§„åˆ’æ¡†æ¶
- **Sprintå‘¨æœŸ**ï¼š2å‘¨ä¸ºä¸€ä¸ªè¿­ä»£å‘¨æœŸ
- **å‘å¸ƒå‘¨æœŸ**ï¼šæ¯4å‘¨ä¸€ä¸ªå°ç‰ˆæœ¬ï¼Œæ¯12å‘¨ä¸€ä¸ªå¤§ç‰ˆæœ¬
- **è§„åˆ’å±‚çº§**ï¼š
  - æˆ˜ç•¥è§„åˆ’ï¼ˆå¹´åº¦ï¼‰
  - ç‰ˆæœ¬è§„åˆ’ï¼ˆå­£åº¦ï¼‰
  - è¿­ä»£è§„åˆ’ï¼ˆåŒå‘¨ï¼‰
  - ä»»åŠ¡è§„åˆ’ï¼ˆæ¯æ—¥ï¼‰

#### å®¹é‡è§„åˆ’æ¨¡å‹

```typescript
interface CapacityPlanning {
  teamCapacity: {
    totalDevelopers: number;
    velocityPerSprint: number;
    availableHours: number;
    efficiency: number; // 0.8-0.9
  };

  taskEstimation: {
    storyPoints: number;
    hoursPerPoint: number;
    complexity: 'Low' | 'Medium' | 'High';
    riskLevel: 'Low' | 'Medium' | 'High';
  };

  sprintPlanning: {
    capacity: number;
    committedStories: number;
    bufferTime: number; // 20% buffer
  };
}
```

### 1.3 äº¤ä»˜ç‰©æ ‡å‡†

#### è§„åˆ’æ–‡æ¡£æ¸…å•
- [ ] **äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)**
  - åŠŸèƒ½éœ€æ±‚æè¿°
  - ç”¨æˆ·æ•…äº‹æ¸…å•
  - éªŒæ”¶æ ‡å‡†
  - ä¸šåŠ¡ä»·å€¼è¯„ä¼°

- [ ] **æŠ€æœ¯è®¾è®¡æ–‡æ¡£ (TDD)**
  - æ¶æ„è®¾è®¡æ–¹æ¡ˆ
  - APIæ¥å£è®¾è®¡
  - æ•°æ®åº“è®¾è®¡
  - å®‰å…¨è®¾è®¡æ–¹æ¡ˆ

- [ ] **é¡¹ç›®è®¡åˆ’æ–‡æ¡£**
  - é‡Œç¨‹ç¢‘è®¡åˆ’
  - èµ„æºåˆ†é…è®¡åˆ’
  - é£é™©ç®¡ç†è®¡åˆ’
  - è´¨é‡ä¿è¯è®¡åˆ’

---

## ğŸ’» ç¬¬äºŒé—­ç¯ï¼šå¼€å‘é—­ç¯ (Development Loop)

### 2.1 å¼€å‘æ ‡å‡†ä¸è§„èŒƒ

#### YYCÂ³å¼€å‘è§„èŒƒæ‰§è¡Œæ¸…å•

```typescript
/**
 * YYCÂ³ å¼€å‘è§„èŒƒæ£€æŸ¥æ¸…å•
 */
interface YYC3DevelopmentStandards {
  // é¡¹ç›®å‘½åè§„èŒƒ
  projectNaming: {
    prefix: 'yyc3';
    format: 'yyc3-{category}-{feature}';
    example: 'yyc3-catering-platform';
  };

  // ä»£ç æ–‡ä»¶è§„èŒƒ
  codeStandards: {
    fileHeader: boolean; // å¿…é¡»åŒ…å«æ ‡å‡†æ–‡ä»¶å¤´
    namingConvention: 'camelCase' | 'PascalCase' | 'kebab-case';
    typeSafety: boolean; // TypeScriptä¸¥æ ¼æ¨¡å¼
    documentation: boolean; // JSDocæ³¨é‡Š
  };

  // Gitå·¥ä½œæµè§„èŒƒ
  gitWorkflow: {
    branchingStrategy: 'GitFlow';
    commitFormat: 'ConventionalCommits';
    codeReview: 'Mandatory';
    ciIntegration: boolean;
  };

  // è´¨é‡æ ‡å‡†
  qualityStandards: {
    testCoverage: number; // >= 90%
    lintRules: 'YYC3ESLint';
    buildSuccess: boolean;
    securityScan: boolean;
  };
}
```

#### å¼€å‘ç¯å¢ƒæ ‡å‡†åŒ–

```bash
# YYCÂ³ å¼€å‘ç¯å¢ƒé…ç½®è„šæœ¬
#!/bin/bash

# 1. ç¯å¢ƒæ£€æŸ¥
echo "ğŸ” æ£€æŸ¥å¼€å‘ç¯å¢ƒ..."
node_version=$(node -v | cut -d'v' -f2)
if [[ $(echo "$node_version >= 18.0.0" | bc -l) -eq 0 ]]; then
    echo "âŒ Node.jsç‰ˆæœ¬è¿‡ä½ï¼Œéœ€è¦ >= 18.0.0"
    exit 1
fi

# 2. Bunå®‰è£…æ£€æŸ¥
if ! command -v bun &> /dev/null; then
    echo "ğŸ“¦ å®‰è£…Bun..."
    curl -fsSL https://bun.sh/install | bash
    source ~/.bashrc
fi

# 3. é¡¹ç›®åˆå§‹åŒ–
echo "ğŸš€ åˆå§‹åŒ–YYCÂ³é¡¹ç›®..."
bun install
bun run setup

# 4. å¼€å‘å·¥å…·é…ç½®
echo "âš™ï¸ é…ç½®å¼€å‘å·¥å…·..."
bunx eslint --init
bunx prettier --write .

# 5. Gité’©å­è®¾ç½®
echo "ğŸª è®¾ç½®Gité’©å­..."
bunx husky install
bunx husky add .husky/pre-commit "bun run lint-staged"
bunx husky add .husky/pre-push "bun run test"

echo "âœ… YYCÂ³å¼€å‘ç¯å¢ƒé…ç½®å®Œæˆï¼"
```

### 2.2 ä»£ç è´¨é‡ç®¡ç†

#### è‡ªåŠ¨åŒ–è´¨é‡æ£€æŸ¥

```yaml
# .github/workflows/quality-check.yml
name: YYCÂ³ Quality Check

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  quality-gate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Bun
        uses: oven-sh/setup-bun@v1
        with:
          bun-version: latest

      - name: Install dependencies
        run: bun install --frozen-lockfile

      - name: YYCÂ³ Standards Check
        run: |
          echo "ğŸ” æ£€æŸ¥YYCÂ³æ ‡å‡†åŒ–è§„èŒƒ..."
          # æ£€æŸ¥æ–‡ä»¶å¤´è§„èŒƒ
          bun run check:file-headers
          # æ£€æŸ¥å‘½åè§„èŒƒ
          bun run check:naming-conventions
          # æ£€æŸ¥é¡¹ç›®ç»“æ„
          bun run check:project-structure

      - name: Type Check
        run: bun run type-check

      - name: Lint
        run: bun run lint

      - name: Test
        run: bun run test:coverage

      - name: Security Audit
        run: bun audit

      - name: Build
        run: bun run build

      - name: Coverage Report
        uses: codecov/codecov-action@v3
        with:
          file: ./coverage/lcov.info
          threshold: 90%
```

#### ä»£ç å®¡æŸ¥æ¸…å•

```markdown
## YYCÂ³ ä»£ç å®¡æŸ¥æ¸…å•

### ğŸ” åŸºç¡€æ£€æŸ¥
- [ ] ä»£ç ç¬¦åˆYYCÂ³æ–‡ä»¶å¤´è§„èŒƒ
- [ ] å‘½åè§„èŒƒéµå¾ªYYCÂ³æ ‡å‡†
- [ ] TypeScriptç±»å‹å®šä¹‰å®Œæ•´
- [ ] å‡½æ•°/ç±»æœ‰é€‚å½“çš„JSDocæ³¨é‡Š

### ğŸ—ï¸ æ¶æ„æ£€æŸ¥
- [ ] æ¨¡å—èŒè´£å•ä¸€ä¸”æ˜ç¡®
- [ ] ä¾èµ–å…³ç³»åˆç†ï¼Œæ— å¾ªç¯ä¾èµ–
- [ ] æ¥å£è®¾è®¡ç®€æ´ä¸”å¯æ‰©å±•
- [ ] é”™è¯¯å¤„ç†æœºåˆ¶å®Œå–„

### ğŸ”’ å®‰å…¨æ£€æŸ¥
- [ ] è¾“å…¥éªŒè¯å’Œå‚æ•°æ ¡éªŒ
- [ ] æ•æ„Ÿä¿¡æ¯æœªç¡¬ç¼–ç 
- [ ] SQLæ³¨å…¥é˜²æŠ¤æªæ–½
- [ ] XSSæ”»å‡»é˜²æŠ¤

### âš¡ æ€§èƒ½æ£€æŸ¥
- [ ] æ— æ˜æ˜¾æ€§èƒ½ç“¶é¢ˆ
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] ç¼“å­˜ç­–ç•¥åˆç†
- [ ] èµ„æºä½¿ç”¨æ•ˆç‡é«˜

### ğŸ§ª æµ‹è¯•æ£€æŸ¥
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ä¸»è¦é€»è¾‘
- [ ] é›†æˆæµ‹è¯•éªŒè¯å…³é”®æµç¨‹
- [ ] æµ‹è¯•ç”¨ä¾‹è¾¹ç•Œæ¡ä»¶å®Œæ•´
- [ ] æµ‹è¯•æ•°æ®ç‹¬ç«‹æ€§
```

### 2.3 å¼€å‘æ•ˆç‡å·¥å…·

#### YYCÂ³å¼€å‘å·¥å…·é“¾

```json
{
  "developmentToolkit": {
    "codeGeneration": {
      "componentGenerator": "yyc3-generate-component",
      "apiGenerator": "yyc3-generate-api",
      "testGenerator": "yyc3-generate-test"
    },
    "productivity": {
      "snippets": "yyc3-vscode-snippets",
      "templates": "yyc3-project-templates",
      "cli": "@yyc3/cli-tools"
    },
    "quality": {
      "linter": "@yyc3/eslint-config",
      "formatter": "@yyc3/prettier-config",
      "test-runner": "@yyc3/test-utils"
    }
  }
}
```

---

## ğŸ§ª ç¬¬ä¸‰é—­ç¯ï¼šæµ‹è¯•é—­ç¯ (Testing Loop)

### 3.1 æµ‹è¯•ç­–ç•¥æ¡†æ¶

#### æµ‹è¯•é‡‘å­—å¡”æ¨¡å‹

```mermaid
graph TD
    A[E2E Tests - 10%] --> B[Integration Tests - 20%]
    B --> C[Unit Tests - 70%]

    A1[ç”¨æˆ·åœºæ™¯æµ‹è¯•<br/>è·¨å¹³å°æµ‹è¯•<br/>æ€§èƒ½æµ‹è¯•] --> A

    B1[APIé›†æˆæµ‹è¯•<br/>æ•°æ®åº“é›†æˆæµ‹è¯•<br/>ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ] --> B

    C1[å‡½æ•°å•å…ƒæµ‹è¯•<br/>ç»„ä»¶å•å…ƒæµ‹è¯•<br/>å·¥å…·å‡½æ•°æµ‹è¯•] --> C
```

#### æµ‹è¯•è¦†ç›–ç‡æ ‡å‡†

| æµ‹è¯•ç±»å‹ | è¦†ç›–ç‡è¦æ±‚ | æµ‹è¯•é‡ç‚¹ | å·¥å…·é€‰æ‹© |
|---------|-----------|----------|----------|
| **å•å…ƒæµ‹è¯•** | â‰¥ 90% | ä¸šåŠ¡é€»è¾‘ã€å·¥å…·å‡½æ•° | Vitest + Testing Library |
| **é›†æˆæµ‹è¯•** | â‰¥ 80% | APIæ¥å£ã€æ•°æ®åº“äº¤äº’ | Supertest + Test Containers |
| **E2Eæµ‹è¯•** | â‰¥ 70% | ç”¨æˆ·æµç¨‹ã€å…³é”®ä¸šåŠ¡åœºæ™¯ | Playwright |
| **æ€§èƒ½æµ‹è¯•** | â‰¥ 60% | å“åº”æ—¶é—´ã€å¹¶å‘å¤„ç† | K6 + Artillery |
| **å®‰å…¨æµ‹è¯•** | â‰¥ 85% | æ¼æ´æ‰«æã€æ¸—é€æµ‹è¯• | OWASP ZAP + Snyk |

### 3.2 è‡ªåŠ¨åŒ–æµ‹è¯•ä½“ç³»

#### æµ‹è¯•é…ç½®æ–‡ä»¶

```typescript
// vitest.config.ts
import { defineConfig } from 'vitest/config';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  test: {
    globals: true,
    environment: 'jsdom',
    setupFiles: ['./src/test/setup.ts'],
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html'],
      exclude: [
        'node_modules/',
        'src/test/',
        '**/*.d.ts',
        '**/*.config.*',
        '**/coverage/**'
      ],
      thresholds: {
        global: {
          branches: 80,
          functions: 90,
          lines: 90,
          statements: 90
        }
      }
    },
    include: ['src/**/*.{test,spec}.{ts,tsx}'],
    exclude: ['node_modules/', 'dist/', '**/*.config.*']
  }
});

// æµ‹è¯•è®¾ç½®æ–‡ä»¶
// src/test/setup.ts
import '@testing-library/jest-dom';
import { cleanup } from '@testing-library/react';
import { afterAll, afterEach, beforeAll } from 'vitest';

// å…¨å±€æµ‹è¯•è®¾ç½®
beforeAll(() => {
  // è®¾ç½®æµ‹è¯•ç¯å¢ƒå˜é‡
  process.env.NODE_ENV = 'test';
  process.env.JWT_SECRET = 'test-jwt-secret';
});

// æ¯ä¸ªæµ‹è¯•åæ¸…ç†
afterEach(() => {
  cleanup();
});

// æ‰€æœ‰æµ‹è¯•å®Œæˆåæ¸…ç†
afterAll(() => {
  // æ¸…ç†èµ„æº
});
```

#### æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿

```typescript
/**
 * YYCÂ³ æ ‡å‡†æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿
 */
import { describe, it, expect, beforeEach, afterEach } from 'vitest';
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import { YYC3TestUtils } from '@yyc3/test-utils';

describe('YYC3 Component Test Template', () => {
  // æµ‹è¯•æ•°æ®å‡†å¤‡
  const testProps = {
    id: 'test-123',
    name: 'Test Component',
    // ... å…¶ä»–æµ‹è¯•props
  };

  // æ¯ä¸ªæµ‹è¯•å‰çš„è®¾ç½®
  beforeEach(() => {
    // åˆå§‹åŒ–æµ‹è¯•ç¯å¢ƒ
    YYC3TestUtils.setupTestEnvironment();
  });

  // æ¯ä¸ªæµ‹è¯•åçš„æ¸…ç†
  afterEach(() => {
    YYC3TestUtils.cleanupTestEnvironment();
  });

  describe('åŸºç¡€åŠŸèƒ½æµ‹è¯•', () => {
    it('åº”è¯¥æ­£ç¡®æ¸²æŸ“ç»„ä»¶', () => {
      // Given: å‡†å¤‡æµ‹è¯•æ•°æ®å’ŒçŠ¶æ€
      // When: æ‰§è¡Œç»„ä»¶æ¸²æŸ“
      render(<TestComponent {...testProps} />);

      // Then: éªŒè¯æ¸²æŸ“ç»“æœ
      expect(screen.getByTestId('test-component')).toBeInTheDocument();
      expect(screen.getByText('Test Component')).toBeInTheDocument();
    });

    it('åº”è¯¥æ­£ç¡®å¤„ç†ç”¨æˆ·äº¤äº’', async () => {
      // Given: æ¸²æŸ“ç»„ä»¶
      render(<TestComponent {...testProps} />);

      // When: ç”¨æˆ·æ‰§è¡Œäº¤äº’æ“ä½œ
      const button = screen.getByRole('button', { name: /submit/i });
      fireEvent.click(button);

      // Then: éªŒè¯äº¤äº’ç»“æœ
      await waitFor(() => {
        expect(screen.getByText(/success/i)).toBeInTheDocument();
      });
    });
  });

  describe('è¾¹ç•Œæ¡ä»¶æµ‹è¯•', () => {
    it('åº”è¯¥æ­£ç¡®å¤„ç†ç©ºæ•°æ®', () => {
      render(<TestComponent data={[]} />);
      expect(screen.getByText(/no data available/i)).toBeInTheDocument();
    });

    it('åº”è¯¥æ­£ç¡®å¤„ç†é”™è¯¯çŠ¶æ€', async () => {
      const mockError = new Error('Test error');
      render(<TestComponent onError={vi.fn()} />);

      // æ¨¡æ‹Ÿé”™è¯¯è§¦å‘
      fireEvent.error(screen.getByTestId('error-trigger'));

      await waitFor(() => {
        expect(screen.getByText(/an error occurred/i)).toBeInTheDocument();
      });
    });
  });

  describe('æ€§èƒ½æµ‹è¯•', () => {
    it('åº”è¯¥åœ¨åˆç†æ—¶é—´å†…æ¸²æŸ“', async () => {
      const startTime = performance.now();

      render(<TestComponent {...testProps} />);

      const endTime = performance.now();
      const renderTime = endTime - startTime;

      // æ¸²æŸ“æ—¶é—´åº”è¯¥å°äº100ms
      expect(renderTime).toBeLessThan(100);
    });
  });

  describe('å¯è®¿é—®æ€§æµ‹è¯•', () => {
    it('åº”è¯¥ç¬¦åˆWCAG 2.1 AAæ ‡å‡†', async () => {
      const { container } = render(<TestComponent {...testProps} />);

      // ä½¿ç”¨axe-coreè¿›è¡Œå¯è®¿é—®æ€§æµ‹è¯•
      const results = await axe(container);
      expect(results).toHaveNoViolations();
    });
  });
});
```

### 3.3 è´¨é‡é—¨ç¦æœºåˆ¶

#### è´¨é‡é—¨ç¦é…ç½®

```yaml
# è´¨é‡é—¨ç¦æµæ°´çº¿
name: YYCÂ³ Quality Gate

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  quality-gate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Bun
        uses: oven-sh/setup-bun@v1

      - name: Install dependencies
        run: bun install --frozen-lockfile

      - name: Run Unit Tests
        run: bun run test:unit
        continue-on-error: false

      - name: Run Integration Tests
        run: bun run test:integration
        continue-on-error: false

      - name: Check Test Coverage
        run: |
          coverage=$(bun run test:coverage --reporter=json | jq '.total.lines.pct')
          if (( $(echo "$coverage < 90" | bc -l) )); then
            echo "âŒ Test coverage ${coverage}% is below 90%"
            exit 1
          fi
          echo "âœ… Test coverage ${coverage}% meets requirements"

      - name: Security Scan
        run: bun audit --audit-level high
        continue-on-error: false

      - name: Performance Test
        run: bun run test:performance
        continue-on-error: false

      - name: Code Quality Check
        run: |
          score=$(bun run lint:score)
          if (( $(echo "$score < 8.0" | bc -l) )); then
            echo "âŒ Code quality score ${score} is below 8.0"
            exit 1
          fi
          echo "âœ… Code quality score ${score} meets requirements"
```

---

## ğŸš€ ç¬¬å››é—­ç¯ï¼šéƒ¨ç½²é—­ç¯ (Deployment Loop)

### 4.1 éƒ¨ç½²ç­–ç•¥

#### å¤šç¯å¢ƒéƒ¨ç½²æ¶æ„

```mermaid
graph LR
    A[å¼€å‘ç¯å¢ƒ] --> B[æµ‹è¯•ç¯å¢ƒ]
    B --> C[é¢„å‘å¸ƒç¯å¢ƒ]
    C --> D[ç”Ÿäº§ç¯å¢ƒ]

    A1[åŠŸèƒ½éªŒè¯] --> A
    B1[é›†æˆæµ‹è¯•] --> B
    C1[æ€§èƒ½æµ‹è¯•] --> C
    D1[çº¿ä¸Šç›‘æ§] --> D
```

#### ç¯å¢ƒé…ç½®ç®¡ç†

```typescript
// ç¯å¢ƒé…ç½®æ¥å£
interface EnvironmentConfig {
  // åŸºç¡€é…ç½®
  app: {
    name: string;
    version: string;
    port: number;
    env: 'development' | 'testing' | 'staging' | 'production';
  };

  // æ•°æ®åº“é…ç½®
  database: {
    host: string;
    port: number;
    name: string;
    ssl: boolean;
    poolSize: number;
  };

  // Redisé…ç½®
  redis: {
    host: string;
    port: number;
    password?: string;
    db: number;
  };

  // JWTé…ç½®
  jwt: {
    secret: string;
    expiresIn: string;
    issuer: string;
  };

  // AIæœåŠ¡é…ç½®
  ai: {
    openaiApiKey: string;
    anthropicApiKey: string;
    modelConfig: {
      defaultModel: string;
      temperature: number;
      maxTokens: number;
    };
  };

  // ç›‘æ§é…ç½®
  monitoring: {
    enabled: boolean;
    metricsEndpoint: string;
    logLevel: 'debug' | 'info' | 'warn' | 'error';
  };
}

// å„ç¯å¢ƒé…ç½®
const configs: Record<string, EnvironmentConfig> = {
  development: {
    app: {
      name: 'yyc3-catering-dev',
      version: '1.0.0',
      port: 3000,
      env: 'development'
    },
    database: {
      host: 'localhost',
      port: 5432,
      name: 'yyc3_catering_dev',
      ssl: false,
      poolSize: 5
    },
    // ... å…¶ä»–é…ç½®
  },

  production: {
    app: {
      name: 'yyc3-catering-prod',
      version: '1.0.0',
      port: 3000,
      env: 'production'
    },
    database: {
      host: process.env.DB_HOST!,
      port: parseInt(process.env.DB_PORT || '5432'),
      name: process.env.DB_NAME!,
      ssl: true,
      poolSize: 20
    },
    // ... å…¶ä»–é…ç½®
  }
};
```

### 4.2 å®¹å™¨åŒ–éƒ¨ç½²

#### Dockerfile æ ‡å‡†æ¨¡æ¿

```dockerfile
# YYCÂ³ æ ‡å‡†Dockerfile
# å¤šé˜¶æ®µæ„å»ºï¼Œä¼˜åŒ–é•œåƒå¤§å°å’Œå®‰å…¨æ€§

# æ„å»ºé˜¶æ®µ
FROM oven/bun:1-alpine AS builder

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY package.json bun.lockb ./

# å®‰è£…ä¾èµ–
RUN bun install --frozen-lockfile --prod=false

# å¤åˆ¶æºä»£ç 
COPY . .

# æ„å»ºåº”ç”¨
RUN bun run build

# ç”Ÿäº§é˜¶æ®µ
FROM oven/bun:1-alpine AS production

# å®‰å…¨é…ç½®
RUN addgroup -g 1001 -S yyc3 && \
    adduser -S yyc3 -u 1001 -G yyc3

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶æ„å»ºäº§ç‰©å’Œä¾èµ–
COPY --from=builder --chown=yyc3:yyc3 /app/dist ./dist
COPY --from=builder --chown=yyc3:yyc3 /app/node_modules ./node_modules
COPY --from=builder --chown=yyc3:yyc3 /app/package.json ./package.json

# åˆ›å»ºérootç”¨æˆ·
USER yyc3

# æš´éœ²ç«¯å£
EXPOSE 3000

# å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \
  CMD bun run health-check

# å¯åŠ¨åº”ç”¨
CMD ["bun", "run", "start"]
```

#### Docker Compose é…ç½®

```yaml
# docker-compose.yml - YYCÂ³æ ‡å‡†é…ç½®
version: '3.8'

# ç¯å¢ƒå˜é‡å®šä¹‰
x-environment: &default-environment
  NODE_ENV: production
  PORT: 3000
  LOG_LEVEL: info

# æœåŠ¡é€šç”¨é…ç½®
x-service: &default-service
  restart: unless-stopped
  networks:
    - yyc3-network
  logging:
    driver: "json-file"
    options:
      max-size: "10m"
      max-file: "3"

# ç½‘ç»œå®šä¹‰
networks:
  yyc3-network:
    driver: bridge
    ipam:
      config:
        - subnet: 172.20.0.0/16

# æ•°æ®å·å®šä¹‰
volumes:
  postgres_data:
    driver: local
  redis_data:
    driver: local
  app_logs:
    driver: local

services:
  # ä¸»åº”ç”¨æœåŠ¡
  app:
    <<: *default-service
    build:
      context: .
      dockerfile: Dockerfile
      target: production
    container_name: yyc3-catering-app
    ports:
      - "3000:3000"
      - "9229:9229"  # Node.jsè°ƒè¯•ç«¯å£
    environment:
      <<: *default-environment
      DB_HOST: postgres
      DB_PORT: 5432
      DB_NAME: yyc3_catering
      DB_USER: yyc3_user
      REDIS_HOST: redis
      REDIS_PORT: 6379
      JWT_SECRET: ${JWT_SECRET}
      OPENAI_API_KEY: ${OPENAI_API_KEY}
    volumes:
      - app_logs:/app/logs
      - ./uploads:/app/uploads
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "bun", "run", "health-check"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s

  # PostgreSQLæ•°æ®åº“
  postgres:
    <<: *default-service
    image: postgres:15-alpine
    container_name: yyc3-postgres
    environment:
      POSTGRES_DB: yyc3_catering
      POSTGRES_USER: yyc3_user
      POSTGRES_PASSWORD: ${DB_PASSWORD}
      POSTGRES_INITDB_ARGS: "--encoding=UTF8 --locale=C"
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./database/init:/docker-entrypoint-initdb.d
    ports:
      - "5432:5432"
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U yyc3_user -d yyc3_catering"]
      interval: 10s
      timeout: 5s
      retries: 5

  # Redisç¼“å­˜
  redis:
    <<: *default-service
    image: redis:7-alpine
    container_name: yyc3-redis
    command: redis-server --requirepass ${REDIS_PASSWORD} --appendonly yes
    volumes:
      - redis_data:/data
      - ./redis/redis.conf:/usr/local/etc/redis/redis.conf
    ports:
      - "6379:6379"
    healthcheck:
      test: ["CMD", "redis-cli", "--raw", "incr", "ping"]
      interval: 10s
      timeout: 3s
      retries: 5

  # Nginxåå‘ä»£ç†
  nginx:
    <<: *default-service
    image: nginx:alpine
    container_name: yyc3-nginx
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
      - ./nginx/ssl:/etc/nginx/ssl
      - ./uploads:/var/www/uploads
    depends_on:
      - app
    healthcheck:
      test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost/health"]
      interval: 30s
      timeout: 10s
      retries: 3

  # ç›‘æ§æœåŠ¡
  prometheus:
    <<: *default-service
    image: prom/prometheus:latest
    container_name: yyc3-prometheus
    ports:
      - "9090:9090"
    volumes:
      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus_data:/prometheus
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
      - '--storage.tsdb.path=/prometheus'
      - '--web.console.libraries=/etc/prometheus/console_libraries'
      - '--web.console.templates=/etc/prometheus/consoles'

  # æ—¥å¿—æ”¶é›†
  loki:
    <<: *default-service
    image: grafana/loki:latest
    container_name: yyc3-loki
    ports:
      - "3100:3100"
    volumes:
      - ./monitoring/loki.yml:/etc/loki/local-config.yaml
      - loki_data:/loki
    command: -config.file=/etc/loki/local-config.yaml

# æ•°æ®å·
volumes:
  postgres_data:
  redis_data:
  prometheus_data:
  loki_data:
  app_logs:
```

### 4.3 CI/CD æµæ°´çº¿

#### å®Œæ•´éƒ¨ç½²æµæ°´çº¿

```yaml
# .github/workflows/deploy.yml
name: YYCÂ³ Deployment Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    types: [closed]

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}

jobs:
  # æ„å»ºå’Œæµ‹è¯•
  build-and-test:
    runs-on: ubuntu-latest
    outputs:
      version: ${{ steps.version.outputs.version }}
      image-tag: ${{ steps.meta.outputs.tags }}

    steps:
      - uses: actions/checkout@v4

      - name: Setup Bun
        uses: oven-sh/setup-bun@v1
        with:
          bun-version: latest

      - name: Get version
        id: version
        run: echo "version=$(bun run version)" >> $GITHUB_OUTPUT

      - name: Extract metadata
        id: meta
        uses: docker/metadata-action@v5
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}
          tags: |
            type=ref,event=branch
            type=ref,event=pr
            type=semver,pattern={{version}}
            type=semver,pattern={{major}}.{{minor}}

      - name: Install dependencies
        run: bun install --frozen-lockfile

      - name: Run tests
        run: bun run test:coverage

      - name: Security audit
        run: bun audit --audit-level high

      - name: Build application
        run: bun run build

      - name: Log in to Container Registry
        if: github.event_name != 'pull_request'
        uses: docker/login-action@v3
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Build and push Docker image
        uses: docker/build-push-action@v5
        with:
          context: .
          push: ${{ github.event_name != 'pull_request' }}
          tags: ${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          cache-from: type=gha
          cache-to: type=gha,mode=max

  # éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
  deploy-staging:
    needs: build-and-test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/develop'
    environment: staging

    steps:
      - uses: actions/checkout@v4

      - name: Deploy to staging
        run: |
          echo "ğŸš€ Deploying to staging environment..."
          # ä½¿ç”¨kubectlæˆ–docker-composeéƒ¨ç½²
          docker-compose -f docker-compose.staging.yml up -d

          # ç­‰å¾…æœåŠ¡å¯åŠ¨
          sleep 30

          # å¥åº·æ£€æŸ¥
          curl -f http://staging.yyc3.com/health || exit 1
          echo "âœ… Staging deployment successful"

  # éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
  deploy-production:
    needs: build-and-test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    environment: production

    steps:
      - uses: actions/checkout@v4

      - name: Deploy to production
        run: |
          echo "ğŸš€ Deploying to production environment..."

          # è“ç»¿éƒ¨ç½²ç­–ç•¥
          ./scripts/blue-green-deploy.sh

          # éƒ¨ç½²åéªŒè¯
          ./scripts/post-deploy-checks.sh

          echo "âœ… Production deployment successful"

  # éƒ¨ç½²åéªŒè¯
  post-deploy-verification:
    needs: [deploy-staging, deploy-production]
    runs-on: ubuntu-latest
    if: always() && (needs.deploy-staging.result == 'success' || needs.deploy-production.result == 'success')

    steps:
      - name: Smoke tests
        run: |
          # æ‰§è¡Œå†’çƒŸæµ‹è¯•
          bun run test:smoke

          # æ€§èƒ½æµ‹è¯•
          bun run test:performance

          # å®‰å…¨æ‰«æ
          bun run security:scan

      - name: Notify team
        uses: 8398a7/action-slack@v3
        with:
          status: ${{ job.status }}
          channel: '#deployments'
          webhook_url: ${{ secrets.SLACK_WEBHOOK }}
```

---

## ğŸ“Š ç¬¬äº”é—­ç¯ï¼šç›‘æ§é—­ç¯ (Monitoring Loop)

### 5.1 ç›‘æ§ä½“ç³»æ¶æ„

#### ä¸‰å±‚ç›‘æ§æ¨¡å‹

```mermaid
graph TD
    A[åŸºç¡€è®¾æ–½ç›‘æ§] --> D[ç»Ÿä¸€ç›‘æ§å¹³å°]
    B[åº”ç”¨æ€§èƒ½ç›‘æ§] --> D
    C[ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§] --> D

    D --> E[å‘Šè­¦ç³»ç»Ÿ]
    D --> F[å¯è§†åŒ–é¢æ¿]
    D --> G[æ—¥å¿—èšåˆ]

    A1[æœåŠ¡å™¨ç›‘æ§<br/>æ•°æ®åº“ç›‘æ§<br/>ç½‘ç»œç›‘æ§] --> A
    B1[åº”ç”¨å“åº”æ—¶é—´<br/>é”™è¯¯ç‡<br/>ååé‡] --> B
    C1[ç”¨æˆ·æ´»è·ƒåº¦<br/>ä¸šåŠ¡è½¬åŒ–ç‡<br/>æ”¶å…¥æŒ‡æ ‡] --> C
```

### 5.2 ç›‘æ§æŒ‡æ ‡å®šä¹‰

#### YYCÂ³æ ¸å¿ƒç›‘æ§æŒ‡æ ‡

```typescript
// YYCÂ³ ç›‘æ§æŒ‡æ ‡å®šä¹‰
interface YYC3MonitoringMetrics {
  // åŸºç¡€è®¾æ–½æŒ‡æ ‡
  infrastructure: {
    system: {
      cpuUsage: number;        // CPUä½¿ç”¨ç‡
      memoryUsage: number;     // å†…å­˜ä½¿ç”¨ç‡
      diskUsage: number;       // ç£ç›˜ä½¿ç”¨ç‡
      networkIO: number;       // ç½‘ç»œI/O
    };

    database: {
      connectionCount: number;     // æ•°æ®åº“è¿æ¥æ•°
      queryLatency: number;        // æŸ¥è¯¢å»¶è¿Ÿ
      transactionRate: number;     // äº‹åŠ¡å¤„ç†ç‡
      errorRate: number;           // é”™è¯¯ç‡
    };

    cache: {
      hitRate: number;             // ç¼“å­˜å‘½ä¸­ç‡
      memoryUsage: number;         // å†…å­˜ä½¿ç”¨
      evictionRate: number;        // é©±é€ç‡
    };
  };

  // åº”ç”¨æ€§èƒ½æŒ‡æ ‡
  application: {
    performance: {
      responseTime: number;        // å¹³å‡å“åº”æ—¶é—´
      p95ResponseTime: number;     // 95åˆ†ä½å“åº”æ—¶é—´
      p99ResponseTime: number;     // 99åˆ†ä½å“åº”æ—¶é—´
      throughput: number;          // ååé‡ (RPS)
    };

    errors: {
      errorRate: number;           // é”™è¯¯ç‡
      criticalErrorCount: number;  // ä¸¥é‡é”™è¯¯æ•°
      warningCount: number;        // è­¦å‘Šæ•°é‡
    };

    availability: {
      uptime: number;              // å¯ç”¨æ€§
      downtime: number;            // åœæœºæ—¶é—´
      serviceHealth: boolean;      // æœåŠ¡å¥åº·çŠ¶æ€
    };
  };

  // ä¸šåŠ¡æŒ‡æ ‡
  business: {
    users: {
      activeUsers: number;         // æ´»è·ƒç”¨æˆ·æ•°
      newUsers: number;            // æ–°ç”¨æˆ·æ•°
      userRetention: number;       // ç”¨æˆ·ç•™å­˜ç‡
    };

    catering: {
      orderCount: number;          // è®¢å•æ•°é‡
      orderValue: number;          // è®¢å•é‡‘é¢
      conversionRate: number;      // è½¬åŒ–ç‡
      averageOrderValue: number;   // å¹³å‡è®¢å•ä»·å€¼
    };

    ai: {
      aiRequestCount: number;      // AIè¯·æ±‚æ¬¡æ•°
      aiResponseTime: number;      // AIå“åº”æ—¶é—´
      aiAccuracy: number;          // AIå‡†ç¡®ç‡
      aiFeatureUsage: Record<string, number>; // AIåŠŸèƒ½ä½¿ç”¨æƒ…å†µ
    };
  };
}
```

#### ç›‘æ§é…ç½®å®ç°

```typescript
// monitoring/metrics.ts - YYCÂ³ç›‘æ§æŒ‡æ ‡æ”¶é›†å™¨
import { createPrometheusMetrics } from '@yyc3/monitoring';

export class YYC3MetricsCollector {
  private metrics: YYC3MonitoringMetrics;

  constructor() {
    this.metrics = this.initializeMetrics();
    this.setupMetricsCollection();
  }

  private initializeMetrics(): YYC3MonitoringMetrics {
    return {
      infrastructure: {
        system: {
          cpuUsage: this.createGauge('yyc3_system_cpu_usage', 'CPU usage percentage'),
          memoryUsage: this.createGauge('yyc3_system_memory_usage', 'Memory usage percentage'),
          diskUsage: this.createGauge('yyc3_system_disk_usage', 'Disk usage percentage'),
          networkIO: this.createGauge('yyc3_system_network_io', 'Network I/O bytes per second'),
        },
        // ... å…¶ä»–æŒ‡æ ‡åˆå§‹åŒ–
      },
      // ... å…¶ä»–ç»´åº¦æŒ‡æ ‡
    };
  }

  // æ”¶é›†ç³»ç»ŸæŒ‡æ ‡
  public collectSystemMetrics(): void {
    const cpuUsage = this.getCPUUsage();
    const memoryUsage = this.getMemoryUsage();
    const diskUsage = this.getDiskUsage();

    this.metrics.infrastructure.system.cpuUsage.set(cpuUsage);
    this.metrics.infrastructure.system.memoryUsage.set(memoryUsage);
    this.metrics.infrastructure.system.diskUsage.set(diskUsage);
  }

  // æ”¶é›†åº”ç”¨æ€§èƒ½æŒ‡æ ‡
  public collectApplicationMetrics(): void {
    // é€šè¿‡ä¸­é—´ä»¶æ”¶é›†è¯·æ±‚æŒ‡æ ‡
    this.setupRequestMetrics();

    // æ”¶é›†é”™è¯¯æŒ‡æ ‡
    this.setupErrorMetrics();
  }

  // æ”¶é›†ä¸šåŠ¡æŒ‡æ ‡
  public collectBusinessMetrics(): void {
    // ç”¨æˆ·æŒ‡æ ‡
    this.collectUserMetrics();

    // é¤é¥®ä¸šåŠ¡æŒ‡æ ‡
    this.collectCateringMetrics();

    // AIåŠŸèƒ½æŒ‡æ ‡
    this.collectAIMetrics();
  }

  // è®¾ç½®è¯·æ±‚ç›‘æ§ä¸­é—´ä»¶
  private setupRequestMetrics(): void {
    // åœ¨Expressåº”ç”¨ä¸­ä½¿ç”¨
    app.use((req, res, next) => {
      const start = Date.now();

      res.on('finish', () => {
        const duration = Date.now() - start;
        const route = req.route?.path || req.path;

        // è®°å½•å“åº”æ—¶é—´
        this.metrics.application.performance.responseTime
          .labels(req.method, route, String(res.statusCode))
          .observe(duration / 1000);

        // è®°å½•è¯·æ±‚è®¡æ•°
        this.metrics.application.performance.throughput
          .labels(req.method, route, String(res.statusCode))
          .inc();
      });

      next();
    });
  }
}
```

### 5.3 å‘Šè­¦ç³»ç»Ÿè®¾è®¡

#### å‘Šè­¦è§„åˆ™é…ç½®

```yaml
# monitoring/alerts.yml - YYCÂ³å‘Šè­¦è§„åˆ™
groups:
  - name: yyc3-system-alerts
    rules:
      # ç³»ç»Ÿèµ„æºå‘Šè­¦
      - alert: HighCPUUsage
        expr: yyc3_system_cpu_usage > 80
        for: 5m
        labels:
          severity: warning
          team: infrastructure
        annotations:
          summary: "CPUä½¿ç”¨ç‡è¿‡é«˜"
          description: "æœåŠ¡å™¨ {{ $labels.instance }} CPUä½¿ç”¨ç‡ {{ $value }}% è¶…è¿‡80%"

      - alert: HighMemoryUsage
        expr: yyc3_system_memory_usage > 85
        for: 5m
        labels:
          severity: warning
          team: infrastructure
        annotations:
          summary: "å†…å­˜ä½¿ç”¨ç‡è¿‡é«˜"
          description: "æœåŠ¡å™¨ {{ $labels.instance }} å†…å­˜ä½¿ç”¨ç‡ {{ $value }}% è¶…è¿‡85%"

      - alert: DiskSpaceLow
        expr: yyc3_system_disk_usage > 90
        for: 2m
        labels:
          severity: critical
          team: infrastructure
        annotations:
          summary: "ç£ç›˜ç©ºé—´ä¸è¶³"
          description: "æœåŠ¡å™¨ {{ $labels.instance }} ç£ç›˜ä½¿ç”¨ç‡ {{ $value }}% è¶…è¿‡90%"

      # åº”ç”¨æ€§èƒ½å‘Šè­¦
      - alert: HighResponseTime
        expr: yyc3_app_response_time_p95 > 2000
        for: 3m
        labels:
          severity: warning
          team: application
        annotations:
          summary: "å“åº”æ—¶é—´è¿‡é•¿"
          description: "åº”ç”¨ {{ $labels.service }} 95åˆ†ä½å“åº”æ—¶é—´ {{ $value }}ms è¶…è¿‡2ç§’"

      - alert: HighErrorRate
        expr: rate(yyc3_app_error_total[5m]) > 0.1
        for: 2m
        labels:
          severity: critical
          team: application
        annotations:
          summary: "é”™è¯¯ç‡è¿‡é«˜"
          description: "åº”ç”¨ {{ $labels.service }} é”™è¯¯ç‡ {{ $value | humanizePercentage }} è¶…è¿‡10%"

      - alert: ServiceDown
        expr: up{job="yyc3-app"} == 0
        for: 1m
        labels:
          severity: critical
          team: application
        annotations:
          summary: "æœåŠ¡ä¸å¯ç”¨"
          description: "æœåŠ¡ {{ $labels.instance }} å·²ä¸‹çº¿è¶…è¿‡1åˆ†é’Ÿ"

      # ä¸šåŠ¡æŒ‡æ ‡å‘Šè­¦
      - alert: LowOrderConversion
        expr: yyc3_business_order_conversion_rate < 0.05
        for: 10m
        labels:
          severity: warning
          team: business
        annotations:
          summary: "è®¢å•è½¬åŒ–ç‡è¿‡ä½"
          description: "è®¢å•è½¬åŒ–ç‡ {{ $value | humanizePercentage }} ä½äº5%"

      - alert: AIResponseTimeHigh
        expr: yyc3_ai_response_time_p95 > 5000
        for: 5m
        labels:
          severity: warning
          team: ai
        annotations:
          summary: "AIå“åº”æ—¶é—´è¿‡é•¿"
          description: "AIæœåŠ¡95åˆ†ä½å“åº”æ—¶é—´ {{ $value }}ms è¶…è¿‡5ç§’"
```

#### å‘Šè­¦é€šçŸ¥é…ç½®

```typescript
// alerts/notification.ts - YYCÂ³å‘Šè­¦é€šçŸ¥ç³»ç»Ÿ
import { Alertmanager, SlackNotifier, EmailNotifier } from '@yyc3/alerts';

export class YYC3AlertNotification {
  private alertmanager: Alertmanager;
  private slack: SlackNotifier;
  private email: EmailNotifier;

  constructor() {
    this.alertmanager = new Alertmanager();
    this.slack = new SlackNotifier(process.env.SLACK_WEBHOOK_URL!);
    this.email = new EmailNotifier({
      smtp: {
        host: process.env.SMTP_HOST!,
        port: parseInt(process.env.SMTP_PORT || '587'),
        secure: false,
        auth: {
          user: process.env.SMTP_USER!,
          pass: process.env.SMTP_PASSWORD!
        }
      }
    });

    this.setupNotificationRules();
  }

  private setupNotificationRules(): void {
    // ä¸¥é‡å‘Šè­¦ - ç«‹å³é€šçŸ¥æ‰€æœ‰æ¸ é“
    this.alertmanager.on('critical', (alert) => {
      this.sendCriticalAlert(alert);
    });

    // è­¦å‘Šå‘Šè­¦ - é€šçŸ¥Slack
    this.alertmanager.on('warning', (alert) => {
      this.sendWarningAlert(alert);
    });

    // ä¿¡æ¯å‘Šè­¦ - ä»…è®°å½•æ—¥å¿—
    this.alertmanager.on('info', (alert) => {
      this.logger.info(`Info alert: ${alert.summary}`);
    });
  }

  private async sendCriticalAlert(alert: Alert): Promise<void> {
    const message = this.formatAlertMessage(alert);

    // å‘é€Slacké€šçŸ¥
    await this.slack.send({
      channel: '#alerts-critical',
      color: 'danger',
      title: 'ğŸš¨ Critical Alert',
      text: message
    });

    // å‘é€é‚®ä»¶é€šçŸ¥
    await this.email.send({
      to: ['admin@yyc3.com', 'devops@yyc3.com'],
      subject: `Critical Alert: ${alert.summary}`,
      html: this.generateAlertHTML(alert)
    });

    // å‘é€çŸ­ä¿¡é€šçŸ¥ï¼ˆå¯é€‰ï¼‰
    if (alert.labels.notifySms === 'true') {
      await this.sendSMSNotification(alert);
    }
  }

  private async sendWarningAlert(alert: Alert): Promise<void> {
    const message = this.formatAlertMessage(alert);

    await this.slack.send({
      channel: '#alerts-warning',
      color: 'warning',
      title: 'âš ï¸ Warning Alert',
      text: message
    });
  }

  private formatAlertMessage(alert: Alert): string {
    return `
ğŸ“Š **Alert Details**
- **Summary**: ${alert.summary}
- **Description**: ${alert.description}
- **Severity**: ${alert.labels.severity}
- **Team**: ${alert.labels.team}
- **Instance**: ${alert.labels.instance}
- **Time**: ${new Date(alert.startsAt * 1000).toISOString()}
    `.trim();
  }
}
```

---

## ğŸ”„ ç¬¬å…­é—­ç¯ï¼šä¼˜åŒ–é—­ç¯ (Optimization Loop)

### 6.1 æŒç»­æ”¹è¿›æµç¨‹

#### æ•°æ®é©±åŠ¨ä¼˜åŒ–æ¨¡å‹

```mermaid
graph TD
    A[æ•°æ®æ”¶é›†] --> B[é—®é¢˜è¯†åˆ«]
    B --> C[æ ¹å› åˆ†æ]
    C --> D[æ–¹æ¡ˆè®¾è®¡]
    D --> E[å®æ–½ä¼˜åŒ–]
    E --> F[æ•ˆæœè¯„ä¼°]
    F --> G[æ ‡å‡†åŒ–]
    G --> A

    A1[ç›‘æ§æ•°æ®<br/>ç”¨æˆ·åé¦ˆ<br/>ä¸šåŠ¡æŒ‡æ ‡] --> A
    B1[æ€§èƒ½ç“¶é¢ˆ<br/>ç”¨æˆ·ä½“éªŒé—®é¢˜<br/>ä¸šåŠ¡æœºä¼š] --> B
    C1[æŠ€æœ¯åˆ†æ<br/>ç”¨æˆ·è°ƒç ”<br/>æ•°æ®æŒ–æ˜] --> C
    D1[æŠ€æœ¯æ–¹æ¡ˆ<br/>äº§å“æ–¹æ¡ˆ<br/>æµç¨‹æ–¹æ¡ˆ] --> D
    E1[ä»£ç ä¼˜åŒ–<br/>é…ç½®è°ƒæ•´<br/>æµç¨‹æ”¹è¿›] --> E
    F1[A/Bæµ‹è¯•<br/>æŒ‡æ ‡å¯¹æ¯”<br/>ç”¨æˆ·éªŒè¯] --> F
    G1[æœ€ä½³å®è·µ<br/>æ ‡å‡†æ›´æ–°<br/>çŸ¥è¯†æ²‰æ·€] --> G
```

### 6.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

#### YYCÂ³æ€§èƒ½ä¼˜åŒ–æ¡†æ¶

```typescript
// optimization/performance.ts - YYCÂ³æ€§èƒ½ä¼˜åŒ–å¼•æ“
export class YYC3PerformanceOptimizer {
  private optimizationStrategies: Map<string, OptimizationStrategy>;

  constructor() {
    this.optimizationStrategies = new Map();
    this.initializeStrategies();
  }

  private initializeStrategies(): void {
    // æ•°æ®åº“ä¼˜åŒ–ç­–ç•¥
    this.optimizationStrategies.set('database', new DatabaseOptimization());

    // ç¼“å­˜ä¼˜åŒ–ç­–ç•¥
    this.optimizationStrategies.set('cache', new CacheOptimization());

    // å‰ç«¯ä¼˜åŒ–ç­–ç•¥
    this.optimizationStrategies.set('frontend', new FrontendOptimization());

    // AIæœåŠ¡ä¼˜åŒ–ç­–ç•¥
    this.optimizationStrategies.set('ai', new AIOptimization());
  }

  // è‡ªåŠ¨æ€§èƒ½ä¼˜åŒ–
  public async optimizePerformance(metrics: YYC3MonitoringMetrics): Promise<OptimizationResult[]> {
    const results: OptimizationResult[] = [];

    for (const [category, strategy] of this.optimizationStrategies) {
      const categoryMetrics = this.getCategoryMetrics(metrics, category);
      const result = await strategy.optimize(categoryMetrics);

      if (result.hasOptimizations) {
        results.push(result);
        await this.applyOptimization(result);
      }
    }

    return results;
  }

  // æ•°æ®åº“ä¼˜åŒ–ç­–ç•¥
  class DatabaseOptimization implements OptimizationStrategy {
    async optimize(metrics: any): Promise<OptimizationResult> {
      const optimizations: Optimization[] = [];

      // æŸ¥è¯¢ä¼˜åŒ–
      if (metrics.database.queryLatency > 100) {
        optimizations.push({
          type: 'query',
          description: 'ä¼˜åŒ–æ…¢æŸ¥è¯¢',
          action: 'æ·»åŠ ç´¢å¼•æˆ–é‡å†™æŸ¥è¯¢',
          expectedImprovement: '50%æ€§èƒ½æå‡'
        });
      }

      // è¿æ¥æ± ä¼˜åŒ–
      if (metrics.database.connectionCount > 80) {
        optimizations.push({
          type: 'connection',
          description: 'ä¼˜åŒ–æ•°æ®åº“è¿æ¥æ± ',
          action: 'å¢åŠ è¿æ¥æ± å¤§å°æˆ–å®ç°è¿æ¥å¤ç”¨',
          expectedImprovement: 'å‡å°‘è¿æ¥ç­‰å¾…æ—¶é—´'
        });
      }

      return {
        hasOptimizations: optimizations.length > 0,
        optimizations,
        priority: 'high'
      };
    }
  }

  // AIæœåŠ¡ä¼˜åŒ–ç­–ç•¥
  class AIOptimization implements OptimizationStrategy {
    async optimize(metrics: any): Promise<OptimizationResult> {
      const optimizations: Optimization[] = [];

      // æ¨¡å‹å“åº”æ—¶é—´ä¼˜åŒ–
      if (metrics.ai.responseTime > 3000) {
        optimizations.push({
          type: 'model',
          description: 'ä¼˜åŒ–AIæ¨¡å‹å“åº”æ—¶é—´',
          action: 'ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹æˆ–å®ç°æ¨¡å‹ç¼“å­˜',
          expectedImprovement: '60%å“åº”æ—¶é—´å‡å°‘'
        });
      }

      // å‡†ç¡®ç‡ä¼˜åŒ–
      if (metrics.ai.accuracy < 0.85) {
        optimizations.push({
          type: 'accuracy',
          description: 'æå‡AIæ¨¡å‹å‡†ç¡®ç‡',
          action: 'é‡æ–°è®­ç»ƒæˆ–ä½¿ç”¨æ›´å¥½çš„æ¨¡å‹',
          expectedImprovement: 'å‡†ç¡®ç‡æå‡è‡³90%ä»¥ä¸Š'
        });
      }

      return {
        hasOptimizations: optimizations.length > 0,
        optimizations,
        priority: 'medium'
      };
    }
  }
}
```

### 6.3 çŸ¥è¯†ç®¡ç†ä½“ç³»

#### YYCÂ³çŸ¥è¯†åº“æ„å»º

```typescript
// knowledge/knowledge-base.ts - YYCÂ³çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ
export class YYC3KnowledgeBase {
  private documents: Map<string, KnowledgeDocument>;
  private searchEngine: KnowledgeSearch;

  constructor() {
    this.documents = new Map();
    this.searchEngine = new KnowledgeSearch();
    this.initializeKnowledgeBase();
  }

  private async initializeKnowledgeBase(): Promise<void> {
    // åŠ è½½æœ€ä½³å®è·µæ–‡æ¡£
    await this.loadBestPractices();

    // åŠ è½½æŠ€æœ¯æ–‡æ¡£
    await this.loadTechnicalDocs();

    // åŠ è½½é—®é¢˜è§£å†³æ–¹æ¡ˆ
    await this.loadSolutions();
  }

  // è‡ªåŠ¨çŸ¥è¯†æå–
  public async extractKnowledgeFromIncident(incident: Incident): Promise<void> {
    const lessons = await this.analyzeIncident(incident);

    for (const lesson of lessons) {
      const doc: KnowledgeDocument = {
        id: generateId(),
        title: lesson.title,
        content: lesson.content,
        category: 'lessons-learned',
        tags: lesson.tags,
        createdAt: new Date(),
        relatedIncidents: [incident.id]
      };

      await this.saveDocument(doc);
    }
  }

  // æ™ºèƒ½æœç´¢
  public async search(query: string): Promise<KnowledgeSearchResult[]> {
    return this.searchEngine.search(query, {
      categories: ['best-practices', 'troubleshooting', 'architecture'],
      limit: 10,
      includeRelated: true
    });
  }

  // ç”Ÿæˆæœ€ä½³å®è·µæŠ¥å‘Š
  public async generateBestPracticesReport(): Promise<BestPracticesReport> {
    const categories = ['performance', 'security', 'reliability', 'scalability'];
    const report: BestPracticesReport = {
      generatedAt: new Date(),
      categories: {}
    };

    for (const category of categories) {
      const practices = await this.getBestPractices(category);
      report.categories[category] = {
        count: practices.length,
        practices: practices.slice(0, 5), // Top 5
        adoptionRate: await this.getAdoptionRate(category)
      };
    }

    return report;
  }
}
```

---

## ğŸ“ˆ é—­ç¯æ•ˆæœè¯„ä¼°

### 6.1 KPIæŒ‡æ ‡ä½“ç³»

#### YYCÂ³å¼€å‘é—­ç¯KPI

| é—­ç¯ç±»å‹ | æ ¸å¿ƒKPI | ç›®æ ‡å€¼ | æµ‹é‡é¢‘ç‡ |
|---------|---------|--------|----------|
| **è§„åˆ’é—­ç¯** | éœ€æ±‚å‡†ç¡®ç‡ | â‰¥ 90% | æ¯ç‰ˆæœ¬ |
| | è§„åˆ’å®Œæˆç‡ | â‰¥ 95% | æ¯è¿­ä»£ |
| **å¼€å‘é—­ç¯** | ä»£ç è´¨é‡åˆ†æ•° | â‰¥ 8.5/10 | æ¯æ—¥ |
| | Bugå¯†åº¦ | â‰¤ 0.5/KLOC | æ¯ç‰ˆæœ¬ |
| **æµ‹è¯•é—­ç¯** | æµ‹è¯•è¦†ç›–ç‡ | â‰¥ 90% | æ¯æ¬¡æäº¤ |
| | è‡ªåŠ¨åŒ–æµ‹è¯•é€šè¿‡ç‡ | â‰¥ 98% | æ¯æ¬¡æ„å»º |
| **éƒ¨ç½²é—­ç¯** | éƒ¨ç½²æˆåŠŸç‡ | â‰¥ 99% | æ¯æ¬¡éƒ¨ç½² |
| | éƒ¨ç½²æ—¶é—´ | â‰¤ 30åˆ†é’Ÿ | æ¯æ¬¡éƒ¨ç½² |
| **ç›‘æ§é—­ç¯** | MTTR (å¹³å‡ä¿®å¤æ—¶é—´) | â‰¤ 30åˆ†é’Ÿ | æ¯æœˆ |
| | å‘Šè­¦å‡†ç¡®ç‡ | â‰¥ 95% | æ¯æœˆ |
| **ä¼˜åŒ–é—­ç¯** | æ€§èƒ½æ”¹è¿›å¹…åº¦ | â‰¥ 20%/å­£åº¦ | æ¯å­£åº¦ |
| | ä¼˜åŒ–å»ºè®®é‡‡çº³ç‡ | â‰¥ 80% | æ¯æœˆ |

### 6.2 æŒç»­æ”¹è¿›æœºåˆ¶

#### YYCÂ³æŒç»­æ”¹è¿›å§”å‘˜ä¼š

```typescript
// improvement/committee.ts - YYCÂ³æŒç»­æ”¹è¿›å§”å‘˜ä¼š
export class YYC3ImprovementCommittee {
  private members: CommitteeMember[];
  private meetings: Meeting[];
  private improvementInitiatives: Initiative[];

  constructor() {
    this.members = this.initializeMembers();
    this.meetings = [];
    this.improvementInitiatives = [];
    this.scheduleRegularMeetings();
  }

  // å®šæœŸæ”¹è¿›ä¼šè®®
  private scheduleRegularMeetings(): void {
    // æ¯å‘¨æŠ€æœ¯è¯„å®¡ä¼š
    this.scheduleMeeting({
      type: 'technical-review',
      frequency: 'weekly',
      participants: ['tech-lead', 'senior-developers'],
      agenda: [
        'ä»£ç è´¨é‡å®¡æŸ¥',
        'æ¶æ„ä¼˜åŒ–è®¨è®º',
        'æŠ€æœ¯å€ºåŠ¡ç®¡ç†',
        'æœ€ä½³å®è·µåˆ†äº«'
      ]
    });

    // æ¯æœˆå›é¡¾ä¼š
    this.scheduleMeeting({
      type: 'retrospective',
      frequency: 'monthly',
      participants: ['all-members'],
      agenda: [
        'è¿‡å»ä¸€ä¸ªæœˆå›é¡¾',
        'æˆåŠŸç»éªŒæ€»ç»“',
        'é—®é¢˜æ ¹å› åˆ†æ',
        'æ”¹è¿›æªæ–½åˆ¶å®š'
      ]
    });

    // æ¯å­£åº¦æˆ˜ç•¥ä¼š
    this.scheduleMeeting({
      type: 'strategic',
      frequency: 'quarterly',
      participants: ['leadership', 'tech-lead', 'product-lead'],
      agenda: [
        'å­£åº¦ç›®æ ‡å›é¡¾',
        'å¸‚åœºè¶‹åŠ¿åˆ†æ',
        'æŠ€æœ¯è·¯çº¿è§„åˆ’',
        'èµ„æºé…ç½®ä¼˜åŒ–'
      ]
    });
  }

  // å‘èµ·æ”¹è¿›å€¡è®®
  public async initiateImprovement(initiative: ImprovementInitiative): Promise<void> {
    // è¯„ä¼°å€¡è®®å¯è¡Œæ€§
    const feasibility = await this.assessFeasibility(initiative);

    if (feasibility.score >= 8.0) {
      // åˆ†é…èµ„æº
      const resources = this.allocateResources(initiative);

      // åˆ¶å®šå®æ–½è®¡åˆ’
      const implementationPlan = this.createImplementationPlan(initiative, resources);

      // æ‰§è¡Œæ”¹è¿›
      await this.executeImprovement(implementationPlan);
    }
  }
}
```

---

## ğŸ¯ æ€»ç»“ä¸å±•æœ›

### YYCÂ³å¼€å‘é—­ç¯ä»·å€¼

é€šè¿‡å»ºç«‹å®Œæ•´çš„å…­ç¯å¼€å‘é—­ç¯ä½“ç³»ï¼ŒYYCÂ³é¤é¥®è¡Œä¸šæ™ºèƒ½åŒ–å¹³å°å°†å®ç°ï¼š

1. **é«˜è´¨é‡äº¤ä»˜**ï¼šé€šè¿‡æ ‡å‡†åŒ–å’Œè´¨é‡é—¨ç¦ç¡®ä¿ä»£ç è´¨é‡
2. **å¿«é€Ÿå“åº”**ï¼šé€šè¿‡è‡ªåŠ¨åŒ–å’ŒCI/CDå®ç°å¿«é€Ÿäº¤ä»˜
3. **æŒç»­æ”¹è¿›**ï¼šé€šè¿‡ç›‘æ§å’Œä¼˜åŒ–å®ç°æŒç»­æå‡
4. **çŸ¥è¯†æ²‰æ·€**ï¼šé€šè¿‡çŸ¥è¯†ç®¡ç†å®ç°ç»éªŒç§¯ç´¯

### é—­ç¯æ‰§è¡Œæ‰¿è¯º

YYCÂ³å›¢é˜Ÿæ‰¿è¯ºï¼š
- ä¸¥æ ¼æŒ‰ç…§å…­ç¯é—­ç¯æµç¨‹æ‰§è¡Œå¼€å‘
- æŒç»­ç›‘æ§å’Œä¼˜åŒ–å„ç¯èŠ‚æ•ˆç‡
- å®šæœŸè¯„ä¼°å’Œæ”¹è¿›é—­ç¯æœºåˆ¶
- ç¡®ä¿é¡¹ç›®è´¨é‡å’Œè¿›åº¦ç¬¦åˆé¢„æœŸ

### é¢„æœŸæˆæœ

é€šè¿‡æœ¬å¼€å‘é—­ç¯è§„åˆ’çš„å®æ–½ï¼Œé¢„æœŸåœ¨6ä¸ªæœˆå†…å®ç°ï¼š
- å¼€å‘æ•ˆç‡æå‡40%
- ä»£ç è´¨é‡æå‡30%
- ç³»ç»Ÿç¨³å®šæ€§æå‡50%
- å›¢é˜Ÿèƒ½åŠ›å…¨é¢æå‡

---

**è®©æˆ‘ä»¬å…±åŒæ„å»ºé«˜æ•ˆã€æ™ºèƒ½ã€å¯é çš„YYCÂ³å¼€å‘é—­ç¯ä½“ç³»ï¼** ğŸš€

<div align="center">

**åˆ¶å®šå›¢é˜Ÿ**ï¼šYYCÂ³å¼€å‘å›¢é˜Ÿ
**å®¡æ‰¹äºº**ï¼šé¡¹ç›®å§”å‘˜ä¼š
**ç”Ÿæ•ˆæ—¥æœŸ**ï¼š2025-01-08
**ä¸‹æ¬¡è¯„ä¼°**ï¼š2025-04-08

**è”ç³»æ–¹å¼**ï¼š<admin@0379.email>
**é¡¹ç›®åœ°å€**ï¼š<https://yyc3.com/catering-platform>

</div>



## æ¦‚è¿°

### æ¶æ„æ¦‚è¿°

æœ¬æ¶æ„æ–‡æ¡£è¯¦ç»†æè¿°äº†ç³»ç»Ÿçš„æ•´ä½“æ¶æ„è®¾è®¡ï¼ŒåŒ…æ‹¬æ¶æ„ç›®æ ‡ã€è®¾è®¡åŸåˆ™ã€æŠ€æœ¯é€‰å‹ç­‰å…³é”®ä¿¡æ¯ã€‚

#### æ¶æ„ç›®æ ‡

- **é«˜å¯ç”¨æ€§**ï¼šç¡®ä¿ç³»ç»Ÿç¨³å®šè¿è¡Œï¼Œæ•…éšœè‡ªåŠ¨æ¢å¤
- **é«˜æ€§èƒ½**ï¼šå“åº”è¿…é€Ÿï¼Œèµ„æºåˆ©ç”¨é«˜æ•ˆ
- **é«˜å®‰å…¨æ€§**ï¼šæ•°æ®åŠ å¯†ï¼Œæƒé™ä¸¥æ ¼æ§åˆ¶
- **é«˜æ‰©å±•æ€§**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºåŠŸèƒ½æ‰©å±•
- **é«˜å¯ç»´æŠ¤æ€§**ï¼šä»£ç æ¸…æ™°ï¼Œæ–‡æ¡£å®Œå–„

#### è®¾è®¡åŸåˆ™

- **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
- **å¼€é—­åŸåˆ™**ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
- **ä¾èµ–å€’ç½®**ï¼šä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°
- **æ¥å£éš”ç¦»**ï¼šä½¿ç”¨ç»†ç²’åº¦çš„æ¥å£
- **è¿ªç±³ç‰¹æ³•åˆ™**ï¼šæœ€å°‘çŸ¥è¯†åŸåˆ™



## æ¶æ„è®¾è®¡

### æ¶æ„è®¾è®¡

#### æ•´ä½“æ¶æ„

ç³»ç»Ÿé‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼ŒåŒ…æ‹¬ï¼š

- **è¡¨ç°å±‚**ï¼šè´Ÿè´£ç”¨æˆ·ç•Œé¢å’Œäº¤äº’
- **åº”ç”¨å±‚**ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘
- **ä¸šåŠ¡å±‚**ï¼šå®ç°æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½
- **æ•°æ®å±‚**ï¼šç®¡ç†æ•°æ®å­˜å‚¨å’Œè®¿é—®
- **åŸºç¡€è®¾æ–½å±‚**ï¼šæä¾›åŸºç¡€æœåŠ¡æ”¯æŒ

#### æ¨¡å—åˆ’åˆ†

ç³»ç»Ÿåˆ’åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šåŠŸèƒ½ï¼š

- **ç”¨æˆ·æ¨¡å—**ï¼šç”¨æˆ·ç®¡ç†å’Œè®¤è¯
- **è®¢å•æ¨¡å—**ï¼šè®¢å•å¤„ç†å’Œç®¡ç†
- **æ”¯ä»˜æ¨¡å—**ï¼šæ”¯ä»˜é›†æˆå’Œå¤„ç†
- **é€šçŸ¥æ¨¡å—**ï¼šæ¶ˆæ¯é€šçŸ¥å’Œæ¨é€
- **æŠ¥è¡¨æ¨¡å—**ï¼šæ•°æ®ç»Ÿè®¡å’Œåˆ†æ

#### æŠ€æœ¯é€‰å‹

- **å‰ç«¯æ¡†æ¶**ï¼šReact / Vue
- **åç«¯æ¡†æ¶**ï¼šNode.js / Express / Fastify
- **æ•°æ®åº“**ï¼šPostgreSQL / MongoDB
- **ç¼“å­˜**ï¼šRedis
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRabbitMQ / Kafka



## æŠ€æœ¯å®ç°

### æŠ€æœ¯å®ç°

#### æ ¸å¿ƒæŠ€æœ¯æ ˆ

```typescript
// æ ¸å¿ƒä¾èµ–
{
  "dependencies": {
    "react": "^18.0.0",
    "typescript": "^5.0.0",
    "express": "^4.18.0",
    "prisma": "^5.0.0",
    "redis": "^4.6.0"
  }
}
```

#### å…³é”®å®ç°

1. **æœåŠ¡å±‚å®ç°**
```typescript
class UserService {
  async createUser(data: CreateUserDto): Promise<User> {
    // éªŒè¯è¾“å…¥
    this.validateUserData(data);
    
    // åŠ å¯†å¯†ç 
    const hashedPassword = await this.hashPassword(data.password);
    
    // åˆ›å»ºç”¨æˆ·
    const user = await this.userRepository.create({
      ...data,
      password: hashedPassword
    });
    
    return user;
  }
}
```

2. **ä¸­é—´ä»¶å®ç°**
```typescript
const authMiddleware = async (req: Request, res: Response, next: NextFunction) => {
  const token = req.headers.authorization?.split(' ')[1];
  
  if (!token) {
    return res.status(401).json({ error: 'æœªæˆæƒè®¿é—®' });
  }
  
  try {
    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    req.user = decoded;
    next();
  } catch (error) {
    return res.status(401).json({ error: 'ä»¤ç‰Œæ— æ•ˆ' });
  }
};
```



## éƒ¨ç½²æ–¹æ¡ˆ

### éƒ¨ç½²æ–¹æ¡ˆ

#### éƒ¨ç½²æ¶æ„

é‡‡ç”¨å®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆï¼Œä½¿ç”¨Dockerå’ŒKubernetesè¿›è¡Œç¼–æ’ã€‚

#### éƒ¨ç½²æ­¥éª¤

1. **ç¯å¢ƒå‡†å¤‡**
```bash
# å®‰è£…Docker
curl -fsSL https://get.docker.com | sh

# å®‰è£…Kubernetes
# æ ¹æ®æ“ä½œç³»ç»Ÿé€‰æ‹©ç›¸åº”çš„å®‰è£…æ–¹å¼
```

2. **æ„å»ºé•œåƒ**
```bash
# æ„å»ºåº”ç”¨é•œåƒ
docker build -t yyc3-app:latest .

# æ¨é€åˆ°é•œåƒä»“åº“
docker push registry.example.com/yyc3-app:latest
```

3. **éƒ¨ç½²åˆ°Kubernetes**
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: yyc3-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: yyc3-app
  template:
    metadata:
      labels:
        app: yyc3-app
    spec:
      containers:
      - name: app
        image: registry.example.com/yyc3-app:latest
        ports:
        - containerPort: 3000
        env:
        - name: NODE_ENV
          value: "production"
```

4. **é…ç½®æœåŠ¡**
```yaml
apiVersion: v1
kind: Service
metadata:
  name: yyc3-app-service
spec:
  selector:
    app: yyc3-app
  ports:
  - protocol: TCP
    port: 80
    targetPort: 3000
  type: LoadBalancer
```



## æ€§èƒ½ä¼˜åŒ–

### æ€§èƒ½ä¼˜åŒ–

#### å‰ç«¯ä¼˜åŒ–

1. **ä»£ç åˆ†å‰²**
```typescript
// è·¯ç”±çº§åˆ«ä»£ç åˆ†å‰²
const Home = lazy(() => import('./pages/Home'));
const About = lazy(() => import('./pages/About'));

function App() {
  return (
    <Suspense fallback={<Loading />}>
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/about" element={<About />} />
      </Routes>
    </Suspense>
  );
}
```

2. **ç¼“å­˜ç­–ç•¥**
```typescript
// React.memo é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
const MemoizedComponent = React.memo(({ data }) => {
  return <div>{data.value}</div>;
});

// useMemo ç¼“å­˜è®¡ç®—ç»“æœ
const expensiveValue = useMemo(() => {
  return computeExpensiveValue(data);
}, [data]);
```

#### åç«¯ä¼˜åŒ–

1. **æ•°æ®åº“ä¼˜åŒ–**
```typescript
// ä½¿ç”¨ç´¢å¼•
CREATE INDEX idx_user_email ON users(email);

// æŸ¥è¯¢ä¼˜åŒ–
const users = await prisma.user.findMany({
  select: {
    id: true,
    name: true,
    email: true
  },
  where: {
    active: true
  },
  take: 100
});
```

2. **ç¼“å­˜ç­–ç•¥**
```typescript
// Redisç¼“å­˜
async function getUser(id: string): Promise<User> {
  const cacheKey = `user:${id}`;
  
  // å°è¯•ä»ç¼“å­˜è·å–
  const cached = await redis.get(cacheKey);
  if (cached) {
    return JSON.parse(cached);
  }
  
  // ä»æ•°æ®åº“è·å–
  const user = await prisma.user.findUnique({ where: { id } });
  
  // å†™å…¥ç¼“å­˜
  await redis.setex(cacheKey, 3600, JSON.stringify(user));
  
  return user;
}
```



## å®‰å…¨è€ƒè™‘

### å®‰å…¨è€ƒè™‘

#### è®¤è¯ä¸æˆæƒ

1. **JWTè®¤è¯**
```typescript
// ç”ŸæˆJWTä»¤ç‰Œ
const token = jwt.sign(
  { userId: user.id, role: user.role },
  process.env.JWT_SECRET,
  { expiresIn: '24h' }
);

// éªŒè¯JWTä»¤ç‰Œ
const decoded = jwt.verify(token, process.env.JWT_SECRET);
```

2. **RBACæˆæƒ**
```typescript
// è§’è‰²æƒé™æ£€æŸ¥
function checkPermission(user: User, resource: string, action: string): boolean {
  const permissions = rolePermissions[user.role];
  return permissions.some(p => 
    p.resource === resource && p.actions.includes(action)
  );
}
```

#### æ•°æ®ä¿æŠ¤

1. **è¾“å…¥éªŒè¯**
```typescript
// ä½¿ç”¨Zodè¿›è¡Œè¾“å…¥éªŒè¯
const createUserSchema = z.object({
  email: z.string().email(),
  password: z.string().min(8).regex(/[A-Z]/),
  name: z.string().min(2)
});

const validated = createUserSchema.parse(input);
```

2. **æ•°æ®åŠ å¯†**
```typescript
// ä½¿ç”¨bcryptåŠ å¯†å¯†ç 
const hashedPassword = await bcrypt.hash(password, 10);

// éªŒè¯å¯†ç 
const isValid = await bcrypt.compare(password, hashedPassword);
```

#### å®‰å…¨å¤´é…ç½®

```typescript
// Expresså®‰å…¨å¤´é…ç½®
app.use(helmet());
app.use(cors({
  origin: process.env.ALLOWED_ORIGINS?.split(','),
  credentials: true
}));
```



## ç›‘æ§å‘Šè­¦

### ç›‘æ§å‘Šè­¦

#### ç›‘æ§æŒ‡æ ‡

1. **ç³»ç»ŸæŒ‡æ ‡**
- CPUä½¿ç”¨ç‡
- å†…å­˜ä½¿ç”¨ç‡
- ç£ç›˜ä½¿ç”¨ç‡
- ç½‘ç»œI/O

2. **åº”ç”¨æŒ‡æ ‡**
- è¯·æ±‚é‡(RPS)
- å“åº”æ—¶é—´
- é”™è¯¯ç‡
- å¹¶å‘ç”¨æˆ·æ•°

3. **ä¸šåŠ¡æŒ‡æ ‡**
- ç”¨æˆ·æ³¨å†Œæ•°
- è®¢å•åˆ›å»ºæ•°
- æ”¯ä»˜æˆåŠŸç‡
- ç”¨æˆ·æ´»è·ƒåº¦

#### ç›‘æ§å·¥å…·

```typescript
// PrometheusæŒ‡æ ‡æ”¶é›†
import { Counter, Histogram, Gauge } from 'prom-client';

const requestCounter = new Counter({
  name: 'http_requests_total',
  help: 'Total number of HTTP requests',
  labelNames: ['method', 'route', 'status']
});

const responseTime = new Histogram({
  name: 'http_request_duration_seconds',
  help: 'HTTP request duration in seconds',
  labelNames: ['method', 'route']
});

// ä½¿ç”¨ä¸­é—´ä»¶è®°å½•æŒ‡æ ‡
app.use((req, res, next) => {
  const start = Date.now();
  
  res.on('finish', () => {
    const duration = (Date.now() - start) / 1000;
    requestCounter.inc({
      method: req.method,
      route: req.route?.path || req.path,
      status: res.statusCode
    });
    responseTime.observe({
      method: req.method,
      route: req.route?.path || req.path
    }, duration);
  });
  
  next();
});
```

#### å‘Šè­¦è§„åˆ™

```yaml
groups:
- name: api_alerts
  rules:
  - alert: HighErrorRate
    expr: rate(http_requests_total{status=~"5.."}[5m]) > 0.05
    for: 5m
    labels:
      severity: critical
    annotations:
      summary: "APIé”™è¯¯ç‡è¿‡é«˜"
      description: "5åˆ†é’Ÿå†…é”™è¯¯ç‡è¶…è¿‡5%"
  
  - alert: HighResponseTime
    expr: histogram_quantile(0.95, http_request_duration_seconds) > 1
    for: 5m
    labels:
      severity: warning
    annotations:
      summary: "APIå“åº”æ—¶é—´è¿‡é•¿"
      description: "95%åˆ†ä½å“åº”æ—¶é—´è¶…è¿‡1ç§’"
```



## æœ€ä½³å®è·µ

### æœ€ä½³å®è·µ

#### ä»£ç è§„èŒƒ

1. **å‘½åè§„èŒƒ**
```typescript
// å˜é‡ï¼šcamelCase
const userName = 'John';

// å¸¸é‡ï¼šUPPER_SNAKE_CASE
const MAX_RETRY_COUNT = 3;

// ç±»ï¼šPascalCase
class UserService { }

// æ¥å£ï¼šPascalCaseï¼Œå‰ç¼€Iï¼ˆå¯é€‰ï¼‰
interface IUserService { }
```

2. **æ³¨é‡Šè§„èŒƒ**
```typescript
/**
 * åˆ›å»ºç”¨æˆ·
 * @param email - ç”¨æˆ·é‚®ç®±
 * @param password - ç”¨æˆ·å¯†ç 
 * @returns åˆ›å»ºçš„ç”¨æˆ·å¯¹è±¡
 * @throws {Error} å½“é‚®ç®±å·²å­˜åœ¨æ—¶æŠ›å‡ºé”™è¯¯
 */
async function createUser(
  email: string, 
  password: string
): Promise<User> {
  // å®ç°
}
```

#### é”™è¯¯å¤„ç†

```typescript
// ç»Ÿä¸€é”™è¯¯å¤„ç†
class AppError extends Error {
  constructor(
    public statusCode: number,
    public message: string,
    public isOperational = true
  ) {
    super(message);
    this.name = this.constructor.name;
    Error.captureStackTrace(this, this.constructor);
  }
}

// ä½¿ç”¨é”™è¯¯å¤„ç†ä¸­é—´ä»¶
app.use((err: Error, req: Request, res: Response, next: NextFunction) => {
  if (err instanceof AppError) {
    return res.status(err.statusCode).json({
      success: false,
      error: err.message
    });
  }
  
  // è®°å½•æœªé¢„æœŸçš„é”™è¯¯
  logger.error('Unexpected error:', err);
  
  return res.status(500).json({
    success: false,
    error: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'
  });
});
```

#### æ—¥å¿—è®°å½•

```typescript
// ç»“æ„åŒ–æ—¥å¿—
import winston from 'winston';

const logger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.json()
  ),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
});

// ä½¿ç”¨æ—¥å¿—
logger.info('User created', { userId: user.id, email: user.email });
logger.error('Database connection failed', { error: error.message });
```


## ç›¸å…³æ–‡æ¡£

- [YYC3 æ™ºæ¢æœåŠ¡åŒ–å¹³å° - è‡ªåŠ¨è¿­ä»£å®æ–½è®¡åˆ’èµ„æºå‡†å¤‡æ¸…å•](YYC3-Cater-å¼€å‘å®æ–½/æ¶æ„ç±»/11-YYC3-Cater--æ¶æ„ç±»-è‡ªåŠ¨è¿­ä»£å®æ–½è®¡åˆ’èµ„æºå‡†å¤‡æ¸…å•.md) - YYC3-Cater-å¼€å‘å®æ–½/æ¶æ„ç±»
- [YYC3 æ™ºæ¢æœåŠ¡åŒ–å¹³å° - è‡ªåŠ¨è¿­ä»£å®æ–½è®¡åˆ’å®¡æ‰¹è¯·æ±‚](YYC3-Cater-å¼€å‘å®æ–½/æ¶æ„ç±»/10-YYC3-Cater--æ¶æ„ç±»-è‡ªåŠ¨è¿­ä»£å®æ–½è®¡åˆ’å®¡æ‰¹è¯·æ±‚.md) - YYC3-Cater-å¼€å‘å®æ–½/æ¶æ„ç±»
- [YYC3 æ™ºæ¢æœåŠ¡åŒ–å¹³å° - è‡ªåŠ¨è¿­ä»£å®æ–½è®¡åˆ’](YYC3-Cater-å¼€å‘å®æ–½/æ¶æ„ç±»/09-YYC3-Cater--æ¶æ„ç±»-è‡ªåŠ¨è¿­ä»£å®æ–½è®¡åˆ’.md) - YYC3-Cater-å¼€å‘å®æ–½/æ¶æ„ç±»
- [YYCÂ³é¤é¥®å¹³å°ç¬¬ä¸€é˜¶æ®µå®æ–½æŠ¥å‘Š](YYC3-Cater-å¼€å‘å®æ–½/æ¶æ„ç±»/06-YYC3-Cater--æ¶æ„ç±»-ç¬¬ä¸€é˜¶æ®µå®æ–½æŠ¥å‘Š.md) - YYC3-Cater-å¼€å‘å®æ–½/æ¶æ„ç±»
- [YYCÂ³æ™ºèƒ½é¤é¥®å¹³å° - æŠ€æœ¯å®ç°æŒ‡å—](YYC3-Cater-å¼€å‘å®æ–½/æ¶æ„ç±»/08-YYC3-Cater--æ¶æ„ç±»-æŠ€æœ¯å®ç°æŒ‡å—.md) - YYC3-Cater-å¼€å‘å®æ–½/æ¶æ„ç±»
