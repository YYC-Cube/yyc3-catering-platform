---

**@file**ï¼šYYCÂ³-è¿ç»´æ‰‹å†Œ
**@description**ï¼šYYCÂ³é¤é¥®è¡Œä¸šæ™ºèƒ½åŒ–å¹³å°çš„è¿ç»´æ‰‹å†Œ
**@author**ï¼šYYCÂ³
**@version**ï¼šv1.0.0
**@created**ï¼š2025-01-30
**@updated**ï¼š2025-01-30
**@status**ï¼špublished
**@tags**ï¼šYYCÂ³,æ–‡æ¡£

---
# ğŸ”– YYCÂ³ è¿ç»´æ‰‹å†Œ

> ***YanYuCloudCube***
> **æ ‡è¯­**ï¼šè¨€å¯è±¡é™ | è¯­æ¢æœªæ¥
> ***Words Initiate Quadrants, Language Serves as Core for the Future***
> **æ ‡è¯­**ï¼šä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒ
> ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***

---

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| å±æ€§ | å†…å®¹ |
|------|------|
| **æ–‡æ¡£æ ‡é¢˜** | YYCÂ³ è¿ç»´æ‰‹å†Œ |
| **æ–‡æ¡£ç±»å‹** | æŠ€å·§ç±»æ–‡æ¡£ |
| **æ‰€å±é˜¶æ®µ** | è¿ç»´è¿è¥ |
| **éµå¾ªè§„èŒƒ** | YYCÂ³ å›¢é˜Ÿæ ‡å‡†åŒ–è§„èŒƒ v1.0.0 |
| **ç‰ˆæœ¬å·** | v1.0.0 |
| **åˆ›å»ºæ—¥æœŸ** | 2025-01-30 |
| **ä½œè€…** | YYCÂ³ Team |
| **æ›´æ–°æ—¥æœŸ** | 2025-01-30 |

---

## ğŸ“‘ ç›®å½•

1. [è¿ç»´æ¦‚è¿°](#1-è¿ç»´æ¦‚è¿°)
2. [ç¯å¢ƒç®¡ç†](#2-ç¯å¢ƒç®¡ç†)
3. [æœåŠ¡ç®¡ç†](#3-æœåŠ¡ç®¡ç†)
4. [é…ç½®ç®¡ç†](#4-é…ç½®ç®¡ç†)
5. [æ—¥å¿—ç®¡ç†](#5-æ—¥å¿—ç®¡ç†)
6. [ç›‘æ§ç®¡ç†](#6-ç›‘æ§ç®¡ç†)
7. [æ•…éšœå¤„ç†](#7-æ•…éšœå¤„ç†)
8. [è¿ç»´æœ€ä½³å®è·µ](#8-è¿ç»´æœ€ä½³å®è·µ)

---

## 1. æ¦‚è¿°

### 1.1 åŠŸèƒ½è¯´æ˜

### 1.2 æŠ€æœ¯æ ˆ

### 1.3 å¼€å‘ç¯å¢ƒ

## 2. å®ç°æ–¹æ¡ˆ

### 2.1 ä»£ç ç»“æ„

### 2.2 æ ¸å¿ƒé€»è¾‘

### 2.3 æ•°æ®å¤„ç†

## 3. æ¥å£æ–‡æ¡£

### 3.1 APIæ¥å£

### 3.2 è¯·æ±‚å‚æ•°

### 3.3 å“åº”æ ¼å¼

## 4. æµ‹è¯•æ–¹æ¡ˆ

### 4.1 å•å…ƒæµ‹è¯•

### 4.2 é›†æˆæµ‹è¯•

### 4.3 æµ‹è¯•ç”¨ä¾‹

## 5. éƒ¨ç½²æŒ‡å—

### 5.1 ç¯å¢ƒå‡†å¤‡

### 5.2 éƒ¨ç½²æ­¥éª¤

### 5.3 éªŒè¯æ–¹æ³•

## 6. å¸¸è§é—®é¢˜

### 6.1 é—®é¢˜æ’æŸ¥

### 6.2 è§£å†³æ–¹æ¡ˆ

## 1. è¿ç»´æ¦‚è¿°

### 1.1 è¿ç»´ç›®æ ‡

YYCÂ³ è¿ç»´ä½“ç³»æ—¨åœ¨ç¡®ä¿ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ã€é«˜æ€§èƒ½ã€é«˜å®‰å…¨æ€§å’Œé«˜å¯ç»´æŠ¤æ€§ï¼Œä¸ºä¸šåŠ¡æä¾›ç¨³å®šå¯é çš„æŠ€æœ¯æ”¯æ’‘ã€‚

### 1.2 è¿ç»´åŸåˆ™

- **è‡ªåŠ¨åŒ–ä¼˜å…ˆ**ï¼šå°½å¯èƒ½è‡ªåŠ¨åŒ–è¿ç»´æ“ä½œï¼Œå‡å°‘äººå·¥å¹²é¢„
- **å¯è§‚æµ‹æ€§**ï¼šå»ºç«‹å®Œå–„çš„ç›‘æ§å’Œæ—¥å¿—ä½“ç³»ï¼Œç¡®ä¿ç³»ç»Ÿå¯è§‚æµ‹
- **å¿«é€Ÿå“åº”**ï¼šå»ºç«‹å¿«é€Ÿå“åº”æœºåˆ¶ï¼ŒåŠæ—¶å¤„ç†æ•…éšœå’Œé—®é¢˜
- **æŒç»­æ”¹è¿›**ï¼šæŒç»­ä¼˜åŒ–è¿ç»´æµç¨‹å’Œå·¥å…·ï¼Œæå‡è¿ç»´æ•ˆç‡
- **å®‰å…¨åˆè§„**ï¼šç¡®ä¿è¿ç»´æ“ä½œç¬¦åˆå®‰å…¨å’Œåˆè§„è¦æ±‚

---

## 2. ç¯å¢ƒç®¡ç†

### 2.1 ç¯å¢ƒåˆ†ç±»

#### 2.1.1 ç¯å¢ƒç±»å‹

| ç¯å¢ƒ | ç”¨é€” | è®¿é—®æƒé™ | æ•°æ®æ¥æº |
|------|------|----------|----------|
| å¼€å‘ç¯å¢ƒ | å¼€å‘æµ‹è¯• | å¼€å‘å›¢é˜Ÿ | æµ‹è¯•æ•°æ® |
| æµ‹è¯•ç¯å¢ƒ | é›†æˆæµ‹è¯• | æµ‹è¯•å›¢é˜Ÿ | æµ‹è¯•æ•°æ® |
| é¢„å‘ç¯å¢ƒ | é¢„å‘å¸ƒéªŒè¯ | è¿ç»´å›¢é˜Ÿ | ç”Ÿäº§æ•°æ®è„±æ• |
| ç”Ÿäº§ç¯å¢ƒ | çº¿ä¸Šè¿è¡Œ | è¿ç»´å›¢é˜Ÿ | ç”Ÿäº§æ•°æ® |

### 2.2 ç¯å¢ƒé…ç½®

#### 2.2.1 ç¯å¢ƒå˜é‡ç®¡ç†

```bash
#!/bin/bash
# === env-setup.sh ===

# å¼€å‘ç¯å¢ƒ
export NODE_ENV="development"
export API_BASE_URL="http://dev-api.yyc3.com"
export DB_HOST="dev-db.yyc3.com"
export DB_PORT="5432"
export DB_NAME="yyc3_dev"
export REDIS_HOST="dev-redis.yyc3.com"
export REDIS_PORT="6379"

# æµ‹è¯•ç¯å¢ƒ
# export NODE_ENV="testing"
# export API_BASE_URL="http://test-api.yyc3.com"
# export DB_HOST="test-db.yyc3.com"
# export DB_PORT="5432"
# export DB_NAME="yyc3_test"
# export REDIS_HOST="test-redis.yyc3.com"
# export REDIS_PORT="6379"

# é¢„å‘ç¯å¢ƒ
# export NODE_ENV="staging"
# export API_BASE_URL="http://staging-api.yyc3.com"
# export DB_HOST="staging-db.yyc3.com"
# export DB_PORT="5432"
# export DB_NAME="yyc3_staging"
# export REDIS_HOST="staging-redis.yyc3.com"
# export REDIS_PORT="6379"

# ç”Ÿäº§ç¯å¢ƒ
# export NODE_ENV="production"
# export API_BASE_URL="https://api.yyc3.com"
# export DB_HOST="prod-db.yyc3.com"
# export DB_PORT="5432"
# export DB_NAME="yyc3_prod"
# export REDIS_HOST="prod-redis.yyc3.com"
# export REDIS_PORT="6379"
```

### 2.3 ç¯å¢ƒåˆ‡æ¢

#### 2.3.1 ç¯å¢ƒåˆ‡æ¢è„šæœ¬

```bash
#!/bin/bash
# === switch-env.sh ===

set -euo pipefail

# é¢œè‰²è¾“å‡º
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_warn() {
    echo -e "${YELLOW}[WARN]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# æ£€æŸ¥å‚æ•°
if [ $# -ne 1 ]; then
    log_error "Usage: $0 <env>"
    exit 1
fi

ENV=$1

# éªŒè¯ç¯å¢ƒ
case $ENV in
    dev|test|staging|prod)
        ;;
    *)
        log_error "Invalid environment: $ENV"
        log_error "Valid environments: dev, test, staging, prod"
        exit 1
        ;;
esac

# åˆ‡æ¢ç¯å¢ƒ
log_info "Switching to $ENV environment..."

# åŠ è½½ç¯å¢ƒé…ç½®
source .env.$ENV

# éªŒè¯é…ç½®
if [ -z "$API_BASE_URL" ]; then
    log_error "API_BASE_URL not set"
    exit 1
fi

# æ›´æ–°é…ç½®æ–‡ä»¶
sed -i.bak "s|API_BASE_URL=.*|API_BASE_URL=$API_BASE_URL|" .env

log_info "Environment switched successfully!"
log_info "Current environment: $ENV"
log_info "API Base URL: $API_BASE_URL"
```

---

## 3. æœåŠ¡ç®¡ç†

### 3.1 æœåŠ¡å¯åŠ¨

#### 3.1.1 æœåŠ¡å¯åŠ¨è„šæœ¬

```bash
#!/bin/bash
# === start-service.sh ===

set -euo pipefail

# é¢œè‰²è¾“å‡º
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# æ£€æŸ¥æœåŠ¡åç§°
if [ $# -ne 1 ]; then
    log_error "Usage: $0 <service-name>"
    exit 1
fi

SERVICE_NAME=$1

# å¯åŠ¨æœåŠ¡
log_info "Starting service: $SERVICE_NAME..."

# ä½¿ç”¨ systemd å¯åŠ¨æœåŠ¡
if systemctl is-active --quiet $SERVICE_NAME; then
    log_warn "Service $SERVICE_NAME is already running"
    exit 0
fi

systemctl start $SERVICE_NAME

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
if systemctl is-active --quiet $SERVICE_NAME; then
    log_info "Service $SERVICE_NAME started successfully"
else
    log_error "Failed to start service $SERVICE_NAME"
    exit 1
fi
```

### 3.2 æœåŠ¡åœæ­¢

#### 3.2.1 æœåŠ¡åœæ­¢è„šæœ¬

```bash
#!/bin/bash
# === stop-service.sh ===

set -euo pipefail

# é¢œè‰²è¾“å‡º
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# æ£€æŸ¥æœåŠ¡åç§°
if [ $# -ne 1 ]; then
    log_error "Usage: $0 <service-name>"
    exit 1
fi

SERVICE_NAME=$1

# åœæ­¢æœåŠ¡
log_info "Stopping service: $SERVICE_NAME..."

# ä½¿ç”¨ systemd åœæ­¢æœåŠ¡
if ! systemctl is-active --quiet $SERVICE_NAME; then
    log_warn "Service $SERVICE_NAME is not running"
    exit 0
fi

systemctl stop $SERVICE_NAME

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
if ! systemctl is-active --quiet $SERVICE_NAME; then
    log_info "Service $SERVICE_NAME stopped successfully"
else
    log_error "Failed to stop service $SERVICE_NAME"
    exit 1
fi
```

### 3.3 æœåŠ¡é‡å¯

#### 3.3.1 æœåŠ¡é‡å¯è„šæœ¬

```bash
#!/bin/bash
# === restart-service.sh ===

set -euo pipefail

# é¢œè‰²è¾“å‡º
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# æ£€æŸ¥æœåŠ¡åç§°
if [ $# -ne 1 ]; then
    log_error "Usage: $0 <service-name>"
    exit 1
fi

SERVICE_NAME=$1

# é‡å¯æœåŠ¡
log_info "Restarting service: $SERVICE_NAME..."

# ä½¿ç”¨ systemd é‡å¯æœåŠ¡
systemctl restart $SERVICE_NAME

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
if systemctl is-active --quiet $SERVICE_NAME; then
    log_info "Service $SERVICE_NAME restarted successfully"
else
    log_error "Failed to restart service $SERVICE_NAME"
    exit 1
fi
```

### 3.4 æœåŠ¡çŠ¶æ€

#### 3.4.1 æœåŠ¡çŠ¶æ€æ£€æŸ¥è„šæœ¬

```bash
#!/bin/bash
# === check-service.sh ===

set -euo pipefail

# é¢œè‰²è¾“å‡º
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# æ£€æŸ¥æœåŠ¡åç§°
if [ $# -ne 1 ]; then
    log_error "Usage: $0 <service-name>"
    exit 1
fi

SERVICE_NAME=$1

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
log_info "Checking service status: $SERVICE_NAME..."

if systemctl is-active --quiet $SERVICE_NAME; then
    log_info "Service $SERVICE_NAME is running"
    
    # æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
    systemctl status $SERVICE_NAME --no-pager
else
    log_error "Service $SERVICE_NAME is not running"
    exit 1
fi
```

---

## 4. é…ç½®ç®¡ç†

### 4.1 é…ç½®æ–‡ä»¶

#### 4.1.1 é…ç½®æ–‡ä»¶ç»“æ„

```
/opt/yyc3/config/
â”œâ”€â”€ application.yml       # åº”ç”¨é…ç½®
â”œâ”€â”€ database.yml          # æ•°æ®åº“é…ç½®
â”œâ”€â”€ redis.yml            # Redis é…ç½®
â”œâ”€â”€ logging.yml          # æ—¥å¿—é…ç½®
â””â”€â”€ monitoring.yml       # ç›‘æ§é…ç½®
```

### 4.2 é…ç½®æ›´æ–°

#### 4.2.1 é…ç½®æ›´æ–°è„šæœ¬

```bash
#!/bin/bash
# === update-config.sh ===

set -euo pipefail

# é¢œè‰²è¾“å‡º
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# æ£€æŸ¥å‚æ•°
if [ $# -ne 2 ]; then
    log_error "Usage: $0 <config-file> <new-value>"
    exit 1
fi

CONFIG_FILE=$1
NEW_VALUE=$2

# å¤‡ä»½é…ç½®æ–‡ä»¶
BACKUP_FILE="${CONFIG_FILE}.backup.$(date +%Y%m%d_%H%M%S)"
cp $CONFIG_FILE $BACKUP_FILE
log_info "Configuration file backed up to: $BACKUP_FILE"

# æ›´æ–°é…ç½®
echo "$NEW_VALUE" >> $CONFIG_FILE

log_info "Configuration updated successfully!"
log_info "Backup file: $BACKUP_FILE"
```

### 4.3 é…ç½®éªŒè¯

#### 4.3.1 é…ç½®éªŒè¯è„šæœ¬

```bash
#!/bin/bash
# === validate-config.sh ===

set -euo pipefail

# é¢œè‰²è¾“å‡º
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# æ£€æŸ¥å‚æ•°
if [ $# -ne 1 ]; then
    log_error "Usage: $0 <config-file>"
    exit 1
fi

CONFIG_FILE=$1

# éªŒè¯é…ç½®æ–‡ä»¶
log_info "Validating configuration file: $CONFIG_FILE..."

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
if [ ! -f "$CONFIG_FILE" ]; then
    log_error "Configuration file not found: $CONFIG_FILE"
    exit 1
fi

# æ£€æŸ¥ YAML è¯­æ³•
if command -v yamllint &> /dev/null; then
    if yamllint $CONFIG_FILE; then
        log_info "YAML syntax is valid"
    else
        log_error "YAML syntax is invalid"
        exit 1
    fi
fi

log_info "Configuration file is valid"
```

---

## 5. æ—¥å¿—ç®¡ç†

### 5.1 æ—¥å¿—æ”¶é›†

#### 5.1.1 æ—¥å¿—æ”¶é›†é…ç½®

```yaml
# === fluentd-config.yaml ===
apiVersion: v1
kind: ConfigMap
metadata:
  name: fluentd-config
  namespace: yyc3-production
data:
  fluent.conf: |
    <source>
      @type tail
      path /var/log/containers/*.log
      pos_file /var/log/fluentd-containers.log.pos
      tag kubernetes.*
      read_from_head true
      <parse>
        @type json
      </parse>
    </source>

    <filter kubernetes.**>
      @type kubernetes_metadata
    </filter>

    <match **>
      @type elasticsearch
      host elasticsearch.logging.svc.cluster.local
      port 9200
      logstash_format true
      logstash_prefix yyc3
      logstash_dateformat %Y.%m.%d
      include_tag_key true
      type_name _doc
    </match>
```

### 5.2 æ—¥å¿—æŸ¥è¯¢

#### 5.2.1 æ—¥å¿—æŸ¥è¯¢è„šæœ¬

```bash
#!/bin/bash
# === query-logs.sh ===

set -euo pipefail

# é…ç½®
ELASTICSEARCH_HOST="elasticsearch.logging.svc.cluster.local"
ELASTICSEARCH_PORT="9200"
INDEX_PREFIX="yyc3"

# é¢œè‰²è¾“å‡º
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# æŸ¥è¯¢æ—¥å¿—
query_logs() {
    local query=$1
    local time_range=$2
    
    log_info "Querying logs..."
    log_info "Query: $query"
    log_info "Time range: $time_range"
    
    # ä½¿ç”¨ Elasticsearch API æŸ¥è¯¢æ—¥å¿—
    curl -X GET "http://${ELASTICSEARCH_HOST}:${ELASTICSEARCH_PORT}/${INDEX_PREFIX}-*/_search" -H 'Content-Type: application/json' -d"
    {
      \"query\": {
        \"bool\": {
          \"must\": [
            { \"query_string\": { \"query\": \"$query\" } },
            { \"range\": { \"@timestamp\": { \"gte\": \"now-$time_range\" } } }
          ]
        }
      },
      \"sort\": [
        { \"@timestamp\": { \"order\": \"desc\" } }
      ],
      \"size\": 100
    }
    "
}

# æ£€æŸ¥å‚æ•°
if [ $# -ne 2 ]; then
    log_error "Usage: $0 <query> <time-range>"
    exit 1
fi

query_logs "$1" "$2"
```

### 5.3 æ—¥å¿—æ¸…ç†

#### 5.3.1 æ—¥å¿—æ¸…ç†è„šæœ¬

```bash
#!/bin/bash
# === cleanup-logs.sh ===

set -euo pipefail

# é…ç½®
LOG_DIR="/var/log/yyc3"
RETENTION_DAYS=30

# é¢œè‰²è¾“å‡º
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

log_info() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# æ¸…ç†æ—¥å¿—
cleanup_logs() {
    log_info "Cleaning up old logs..."
    
    # åˆ é™¤è¶…è¿‡ä¿ç•™æœŸçš„æ—¥å¿—æ–‡ä»¶
    find $LOG_DIR -type f -name "*.log" -mtime +$RETENTION_DAYS -delete
    
    # åˆ é™¤è¶…è¿‡ä¿ç•™æœŸçš„å½’æ¡£æ–‡ä»¶
    find $LOG_DIR -type f -name "*.gz" -mtime +$RETENTION_DAYS -delete
    
    log_info "Log cleanup completed"
}

# ä¸»æµç¨‹
main() {
    cleanup_logs
}

main "$@"
```

---

## 6. ç›‘æ§ç®¡ç†

### 6.1 ç›‘æ§é…ç½®

#### 6.1.1 Prometheus é…ç½®

```yaml
# === prometheus-config.yaml ===
global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  - job_name: 'yyc3-app'
    static_configs:
      - targets: ['app.yyc3.com:9090']
        labels:
          service: 'yyc3-app'
          env: 'production'

  - job_name: 'yyc3-api'
    static_configs:
      - targets: ['api.yyc3.com:9090']
        labels:
          service: 'yyc3-api'
          env: 'production'

  - job_name: 'yyc3-db'
    static_configs:
      - targets: ['db.yyc3.com:9104']
        labels:
          service: 'yyc3-db'
          env: 'production'

  - job_name: 'yyc3-redis'
    static_configs:
      - targets: ['redis.yyc3.com:9121']
        labels:
          service: 'yyc3-redis'
          env: 'production'
```

### 6.2 å‘Šè­¦è§„åˆ™

#### 6.2.1 å‘Šè­¦è§„åˆ™é…ç½®

```yaml
# === alert-rules.yaml ===
groups:
  - name: yyc3_alerts
    rules:
      - alert: HighCPUUsage
        expr: 100 - (avg by(instance) (rate(node_cpu_seconds_total{mode="idle"}[5m])) * 100) > 80
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "High CPU usage on {{ $labels.instance }}"
          description: "CPU usage is above 80% for more than 5 minutes"

      - alert: HighMemoryUsage
        expr: (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100 > 80
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "High memory usage on {{ $labels.instance }}"
          description: "Memory usage is above 80% for more than 5 minutes"

      - alert: ServiceDown
        expr: up == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "Service {{ $labels.job }} is down"
          description: "Service {{ $labels.job }} on {{ $labels.instance }} has been down for more than 1 minute"
```

---

## 7. æ•…éšœå¤„ç†

### 7.1 æ•…éšœå“åº”

#### 7.1.1 æ•…éšœå“åº”æµç¨‹

```markdown
## æ•…éšœå“åº”æµç¨‹

### 1. æ•…éšœå‘ç°
- ç›‘æ§å‘Šè­¦è§¦å‘
- ç”¨æˆ·åé¦ˆé—®é¢˜
- ä¸»åŠ¨å·¡æ£€å‘ç°

### 2. æ•…éšœç¡®è®¤
- ç¡®è®¤æ•…éšœèŒƒå›´
- ç¡®è®¤æ•…éšœå½±å“
- ç¡®è®¤æ•…éšœçº§åˆ«

### 3. æ•…éšœå®šä½
- æŸ¥çœ‹æ—¥å¿—
- æŸ¥çœ‹ç›‘æ§
- åˆ†æåŸå› 

### 4. æ•…éšœå¤„ç†
- æ‰§è¡Œåº”æ€¥æ–¹æ¡ˆ
- ä¿®å¤æ•…éšœ
- éªŒè¯ä¿®å¤

### 5. æ•…éšœæ¢å¤
- æ¢å¤æœåŠ¡
- éªŒè¯åŠŸèƒ½
- é€šçŸ¥ç›¸å…³äººå‘˜

### 6. æ•…éšœæ€»ç»“
- ç¼–å†™æ•…éšœæŠ¥å‘Š
- åˆ†ææ ¹æœ¬åŸå› 
- åˆ¶å®šæ”¹è¿›æªæ–½
```

### 7.2 æ•…éšœåˆ†çº§

#### 7.2.1 æ•…éšœçº§åˆ«å®šä¹‰

| çº§åˆ« | å“åº”æ—¶é—´ | å½±å“èŒƒå›´ | å¤„ç†ä¼˜å…ˆçº§ |
|------|----------|----------|------------|
| P0 | 15 åˆ†é’Ÿ | æ ¸å¿ƒä¸šåŠ¡å®Œå…¨ä¸å¯ç”¨ | æœ€é«˜ |
| P1 | 30 åˆ†é’Ÿ | æ ¸å¿ƒåŠŸèƒ½ä¸å¯ç”¨ | é«˜ |
| P2 | 1 å°æ—¶ | éƒ¨åˆ†åŠŸèƒ½ä¸å¯ç”¨ | ä¸­ |
| P3 | 4 å°æ—¶ | éæ ¸å¿ƒåŠŸèƒ½ä¸å¯ç”¨ | ä½ |
| P4 | 24 å°æ—¶ | è½»å¾®å½±å“ | æœ€ä½ |

---

## 8. è¿ç»´æœ€ä½³å®è·µ

### 8.1 æœ€ä½³å®è·µ

#### 8.1.1 å®è·µå»ºè®®

```markdown
## è¿ç»´æœ€ä½³å®è·µ

### 1. è‡ªåŠ¨åŒ–
- ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·è¿›è¡Œéƒ¨ç½²
- ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·è¿›è¡Œç›‘æ§
- ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·è¿›è¡Œæ•…éšœå¤„ç†
- å‡å°‘äººå·¥å¹²é¢„

### 2. å¯è§‚æµ‹æ€§
- å»ºç«‹å®Œå–„çš„ç›‘æ§ä½“ç³»
- å»ºç«‹å®Œå–„çš„æ—¥å¿—ä½“ç³»
- å»ºç«‹å®Œå–„çš„å‘Šè­¦ä½“ç³»
- ç¡®ä¿ç³»ç»Ÿå¯è§‚æµ‹

### 3. å®‰å…¨æ€§
- å®šæœŸè¿›è¡Œå®‰å…¨æ‰«æ
- å®šæœŸæ›´æ–°å®‰å…¨è¡¥ä¸
- å®šæœŸè¿›è¡Œå®‰å…¨å®¡è®¡
- ç¡®ä¿ç³»ç»Ÿå®‰å…¨

### 4. å¯é æ€§
- å»ºç«‹ç¾å¤‡ä½“ç³»
- å®šæœŸè¿›è¡Œç¾å¤‡æ¼”ç»ƒ
- å»ºç«‹æ•…éšœæ¢å¤æœºåˆ¶
- ç¡®ä¿ç³»ç»Ÿå¯é 

### 5. æ•ˆç‡
- ä¼˜åŒ–è¿ç»´æµç¨‹
- ä½¿ç”¨é«˜æ•ˆçš„å·¥å…·
- æå‡è¿ç»´æ•ˆç‡
- é™ä½è¿ç»´æˆæœ¬
```

---

## ğŸ“„ æ–‡æ¡£æ ‡å°¾ (Footer)

> ã€Œ***YanYuCloudCube***ã€
> ã€Œ***<admin@0379.email>***ã€
> ã€Œ***Words Initiate Quadrants, Language Serves as Core for the Future***ã€
> ã€Œ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***ã€




## æ¦‚è¿°

### æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›äº†å®ç”¨çš„æŠ€å·§å’Œæ–¹æ³•ï¼Œå¸®åŠ©å¼€å‘è€…æé«˜å·¥ä½œæ•ˆç‡å’Œä»£ç è´¨é‡ã€‚

#### é€‚ç”¨åœºæ™¯

- æ—¥å¸¸å¼€å‘å·¥ä½œ
- ä»£ç ä¼˜åŒ–å’Œé‡æ„
- é—®é¢˜æ’æŸ¥å’Œè°ƒè¯•
- æ€§èƒ½ä¼˜åŒ–å’Œè°ƒä¼˜

#### é¢„æœŸæ”¶ç›Š

- æé«˜å¼€å‘æ•ˆç‡
- å‡å°‘ä»£ç é”™è¯¯
- ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½
- æå‡ä»£ç å¯ç»´æŠ¤æ€§



## æ ¸å¿ƒæ¦‚å¿µ

### æ ¸å¿ƒæ¦‚å¿µ

#### å…³é”®æœ¯è¯­

- **æŠ€å·§**ï¼šç»è¿‡å®è·µéªŒè¯çš„æœ‰æ•ˆæ–¹æ³•
- **æœ€ä½³å®è·µ**ï¼šä¸šç•Œå…¬è®¤çš„ä¼˜ç§€åšæ³•
- **æ¨¡å¼**ï¼šå¯é‡å¤ä½¿ç”¨çš„è§£å†³æ–¹æ¡ˆ
- **åŸåˆ™**ï¼šæŒ‡å¯¼è®¾è®¡çš„åŸºæœ¬å‡†åˆ™

#### æ ¸å¿ƒåŸç†

1. **DRYåŸåˆ™**ï¼ˆDon't Repeat Yourselfï¼‰
   - é¿å…ä»£ç é‡å¤
   - æå–å…¬å…±é€»è¾‘
   - ä½¿ç”¨å‡½æ•°å’Œç±»å°è£…

2. **KISSåŸåˆ™**ï¼ˆKeep It Simple, Stupidï¼‰
   - ä¿æŒç®€å•
   - é¿å…è¿‡åº¦è®¾è®¡
   - ä¼˜å…ˆå¯è¯»æ€§

3. **YAGNIåŸåˆ™**ï¼ˆYou Aren't Gonna Need Itï¼‰
   - åªå®ç°å½“å‰éœ€è¦çš„åŠŸèƒ½
   - é¿å…è¿‡åº¦å·¥ç¨‹
   - ä¿æŒä»£ç ç²¾ç®€



## å®æ–½æ­¥éª¤

### å®æ–½æ­¥éª¤

#### æ­¥éª¤1ï¼šå‡†å¤‡å·¥ä½œ

```bash
# å®‰è£…å¿…è¦å·¥å…·
npm install -g typescript eslint prettier

# åˆå§‹åŒ–é¡¹ç›®
npm init -y
npm install --save-dev typescript @types/node
```

#### æ­¥éª¤2ï¼šé…ç½®ç¯å¢ƒ

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true
  }
}
```

#### æ­¥éª¤3ï¼šç¼–å†™ä»£ç 

```typescript
// åˆ›å»ºä¸»æ–‡ä»¶
// src/index.ts
function main() {
  console.log('Hello, YYCÂ³!');
}

main();
```

#### æ­¥éª¤4ï¼šæµ‹è¯•éªŒè¯

```bash
# è¿è¡Œä»£ç 
npm run dev

# è¿è¡Œæµ‹è¯•
npm test
```



## ä»£ç ç¤ºä¾‹

### ä»£ç ç¤ºä¾‹

#### ç¤ºä¾‹1ï¼šåŸºç¡€ç”¨æ³•

```typescript
// ç®€å•ç¤ºä¾‹
function greet(name: string): string {
  return `Hello, ${name}!`;
}

const message = greet('YYCÂ³');
console.log(message); // è¾“å‡º: Hello, YYCÂ³!
```

#### ç¤ºä¾‹2ï¼šé«˜çº§ç”¨æ³•

```typescript
// å¼‚æ­¥æ“ä½œ
async function fetchData(url: string): Promise<any> {
  const response = await fetch(url);
  const data = await response.json();
  return data;
}

// ä½¿ç”¨ç¤ºä¾‹
fetchData('https://api.example.com/data')
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));
```

#### ç¤ºä¾‹3ï¼šé”™è¯¯å¤„ç†

```typescript
// è‡ªå®šä¹‰é”™è¯¯ç±»
class ValidationError extends Error {
  constructor(public field: string, message: string) {
    super(message);
    this.name = 'ValidationError';
  }
}

// ä½¿ç”¨ç¤ºä¾‹
function validateEmail(email: string): void {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(email)) {
    throw new ValidationError('email', 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®');
  }
}

try {
  validateEmail('invalid-email');
} catch (error) {
  if (error instanceof ValidationError) {
    console.error(`éªŒè¯å¤±è´¥: ${error.field} - ${error.message}`);
  }
}
```



## æ³¨æ„äº‹é¡¹

### æ³¨æ„äº‹é¡¹

#### å¸¸è§é™·é˜±

1. **å¼‚æ­¥æ“ä½œé”™è¯¯**
```typescript
// âŒ é”™è¯¯ï¼šæ²¡æœ‰ç­‰å¾…å¼‚æ­¥æ“ä½œ
async function processData() {
  const data = fetchData(); // å¿˜è®°await
  console.log(data); // è¾“å‡ºPromiseå¯¹è±¡
}

// âœ… æ­£ç¡®ï¼šä½¿ç”¨await
async function processData() {
  const data = await fetchData();
  console.log(data); // è¾“å‡ºå®é™…æ•°æ®
}
```

2. **å†…å­˜æ³„æ¼**
```typescript
// âŒ é”™è¯¯ï¼šæ²¡æœ‰æ¸…ç†äº‹ä»¶ç›‘å¬å™¨
useEffect(() => {
  window.addEventListener('resize', handleResize);
}, []); // ç¼ºå°‘æ¸…ç†å‡½æ•°

// âœ… æ­£ç¡®ï¼šæ¸…ç†äº‹ä»¶ç›‘å¬å™¨
useEffect(() => {
  window.addEventListener('resize', handleResize);
  return () => {
    window.removeEventListener('resize', handleResize);
  };
}, []);
```

#### æ€§èƒ½æ³¨æ„äº‹é¡¹

1. **é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“**
```typescript
// âŒ é”™è¯¯ï¼šæ¯æ¬¡éƒ½åˆ›å»ºæ–°å¯¹è±¡
<Component data={{ value: 1 }} />

// âœ… æ­£ç¡®ï¼šä½¿ç”¨useMemoç¼“å­˜
const memoizedData = useMemo(() => ({ value: 1 }), []);
<Component data={memoizedData} />
```

2. **é¿å…å¤§å¯¹è±¡ä¼ é€’**
```typescript
// âŒ é”™è¯¯ï¼šä¼ é€’æ•´ä¸ªå¤§å¯¹è±¡
<Component user={user} />

// âœ… æ­£ç¡®ï¼šåªä¼ é€’éœ€è¦çš„å±æ€§
<Component userName={user.name} userId={user.id} />
```



## æœ€ä½³å®è·µ

### æœ€ä½³å®è·µ

#### ä»£ç è§„èŒƒ

1. **å‘½åè§„èŒƒ**
```typescript
// å˜é‡ï¼šcamelCase
const userName = 'John';

// å¸¸é‡ï¼šUPPER_SNAKE_CASE
const MAX_RETRY_COUNT = 3;

// ç±»ï¼šPascalCase
class UserService { }

// æ¥å£ï¼šPascalCaseï¼Œå‰ç¼€Iï¼ˆå¯é€‰ï¼‰
interface IUserService { }
```

2. **æ³¨é‡Šè§„èŒƒ**
```typescript
/**
 * åˆ›å»ºç”¨æˆ·
 * @param email - ç”¨æˆ·é‚®ç®±
 * @param password - ç”¨æˆ·å¯†ç 
 * @returns åˆ›å»ºçš„ç”¨æˆ·å¯¹è±¡
 * @throws {Error} å½“é‚®ç®±å·²å­˜åœ¨æ—¶æŠ›å‡ºé”™è¯¯
 */
async function createUser(
  email: string, 
  password: string
): Promise<User> {
  // å®ç°
}
```

#### é”™è¯¯å¤„ç†

```typescript
// ç»Ÿä¸€é”™è¯¯å¤„ç†
class AppError extends Error {
  constructor(
    public statusCode: number,
    public message: string,
    public isOperational = true
  ) {
    super(message);
    this.name = this.constructor.name;
    Error.captureStackTrace(this, this.constructor);
  }
}

// ä½¿ç”¨é”™è¯¯å¤„ç†ä¸­é—´ä»¶
app.use((err: Error, req: Request, res: Response, next: NextFunction) => {
  if (err instanceof AppError) {
    return res.status(err.statusCode).json({
      success: false,
      error: err.message
    });
  }
  
  // è®°å½•æœªé¢„æœŸçš„é”™è¯¯
  logger.error('Unexpected error:', err);
  
  return res.status(500).json({
    success: false,
    error: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'
  });
});
```

#### æ—¥å¿—è®°å½•

```typescript
// ç»“æ„åŒ–æ—¥å¿—
import winston from 'winston';

const logger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.json()
  ),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
});

// ä½¿ç”¨æ—¥å¿—
logger.info('User created', { userId: user.id, email: user.email });
logger.error('Database connection failed', { error: error.message });
```



## å¸¸è§é—®é¢˜

### å¸¸è§é—®é¢˜

#### Q1: å¦‚ä½•å¤„ç†å¼‚æ­¥é”™è¯¯ï¼Ÿ

**A**: ä½¿ç”¨try-catchæ•è·å¼‚æ­¥é”™è¯¯ï¼š

```typescript
async function handleRequest() {
  try {
    const result = await fetchData();
    return result;
  } catch (error) {
    console.error('è¯·æ±‚å¤±è´¥:', error);
    throw error;
  }
}
```

#### Q2: å¦‚ä½•ä¼˜åŒ–Reactç»„ä»¶æ€§èƒ½ï¼Ÿ

**A**: ä½¿ç”¨ä»¥ä¸‹ä¼˜åŒ–æŠ€æœ¯ï¼š

1. **React.memo**ï¼šé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
2. **useMemo**ï¼šç¼“å­˜è®¡ç®—ç»“æœ
3. **useCallback**ï¼šç¼“å­˜å‡½æ•°å¼•ç”¨
4. **ä»£ç åˆ†å‰²**ï¼šæ‡’åŠ è½½ç»„ä»¶

```typescript
const MemoizedComponent = React.memo(({ data }) => {
  const processedData = useMemo(() => processData(data), [data]);
  return <div>{processedData}</div>;
});
```

#### Q3: å¦‚ä½•ç®¡ç†åº”ç”¨çŠ¶æ€ï¼Ÿ

**A**: æ ¹æ®åº”ç”¨å¤æ‚åº¦é€‰æ‹©åˆé€‚çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼š

1. **ç®€å•åº”ç”¨**ï¼šä½¿ç”¨React Context API
2. **ä¸­ç­‰åº”ç”¨**ï¼šä½¿ç”¨Zustandæˆ–Redux Toolkit
3. **å¤æ‚åº”ç”¨**ï¼šä½¿ç”¨Redux + ä¸­é—´ä»¶

```typescript
// Zustandç¤ºä¾‹
const useStore = create((set) => ({
  count: 0,
  increment: () => set((state) => ({ count: state.count + 1 })),
  decrement: () => set((state) => ({ count: state.count - 1 }))
}));
```



## æ¡ˆä¾‹åˆ†æ

### æ¡ˆä¾‹åˆ†æ

#### æ¡ˆä¾‹1ï¼šæ€§èƒ½ä¼˜åŒ–

**é—®é¢˜**ï¼šé¡µé¢åŠ è½½æ—¶é—´è¿‡é•¿ï¼Œç”¨æˆ·ä½“éªŒå·®ã€‚

**åˆ†æ**ï¼š
- é¦–æ¬¡å†…å®¹ç»˜åˆ¶(FCP)ï¼š3.2ç§’
- æœ€å¤§å†…å®¹ç»˜åˆ¶(LCP)ï¼š5.8ç§’
- ç´¯ç§¯å¸ƒå±€åç§»(CLS)ï¼š0.25

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å®ç°ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
2. ä¼˜åŒ–å›¾ç‰‡åŠ è½½ï¼ˆä½¿ç”¨WebPæ ¼å¼ï¼Œæ·»åŠ loading="lazy"ï¼‰
3. å¯ç”¨Gzipå‹ç¼©
4. ä½¿ç”¨CDNåŠ é€Ÿé™æ€èµ„æº

**ç»“æœ**ï¼š
- FCPï¼š1.2ç§’ï¼ˆâ†“62.5%ï¼‰
- LCPï¼š2.1ç§’ï¼ˆâ†“63.8%ï¼‰
- CLSï¼š0.08ï¼ˆâ†“68%ï¼‰

#### æ¡ˆä¾‹2ï¼šé”™è¯¯å¤„ç†æ”¹è¿›

**é—®é¢˜**ï¼šé”™è¯¯ä¿¡æ¯ä¸æ¸…æ™°ï¼Œéš¾ä»¥å®šä½é—®é¢˜ã€‚

**åˆ†æ**ï¼š
- é”™è¯¯ä¿¡æ¯è¿‡äºç®€å•
- ç¼ºå°‘é”™è¯¯ä¸Šä¸‹æ–‡
- æ²¡æœ‰é”™è¯¯è¿½è¸ª

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å®ç°è‡ªå®šä¹‰é”™è¯¯ç±»
2. æ·»åŠ é”™è¯¯å †æ ˆè¿½è¸ª
3. é›†æˆé”™è¯¯ç›‘æ§å·¥å…·ï¼ˆSentryï¼‰
4. å®ç°é”™è¯¯æ—¥å¿—è®°å½•

**ç»“æœ**ï¼š
- é”™è¯¯å®šä½æ—¶é—´å‡å°‘70%
- é”™è¯¯è§£å†³ç‡æé«˜40%
- ç”¨æˆ·æŠ•è¯‰å‡å°‘60%

#### æ¡ˆä¾‹3ï¼šä»£ç é‡æ„

**é—®é¢˜**ï¼šä»£ç é‡å¤ç‡é«˜ï¼Œç»´æŠ¤å›°éš¾ã€‚

**åˆ†æ**ï¼š
- ä»£ç é‡å¤ç‡ï¼š35%
- å‡½æ•°å¹³å‡é•¿åº¦ï¼š120è¡Œ
- åœˆå¤æ‚åº¦ï¼š15

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æå–å…¬å…±é€»è¾‘åˆ°å·¥å…·å‡½æ•°
2. ä½¿ç”¨è®¾è®¡æ¨¡å¼é‡æ„
3. æ‹†åˆ†å¤§å‡½æ•°
4. æ·»åŠ å•å…ƒæµ‹è¯•

**ç»“æœ**ï¼š
- ä»£ç é‡å¤ç‡ï¼š8%ï¼ˆâ†“77%ï¼‰
- å‡½æ•°å¹³å‡é•¿åº¦ï¼š35è¡Œï¼ˆâ†“71%ï¼‰
- åœˆå¤æ‚åº¦ï¼š5ï¼ˆâ†“67%ï¼‰


## ç›¸å…³æ–‡æ¡£

- [ğŸ”– YYCÂ³ æ—¥å¿—åˆ†æä¸é—®é¢˜å®šä½æŠ€å·§](YYC3-Cater-è¿ç»´è¿è¥/æŠ€å·§ç±»/03-YYC3-Cater--æŠ€å·§ç±»-æ—¥å¿—åˆ†æä¸é—®é¢˜å®šä½æŠ€å·§.md) - YYC3-Cater-è¿ç»´è¿è¥/æŠ€å·§ç±»
- [ğŸ”– YYCÂ³ æ™ºèƒ½è¿ç»´å¹³å°æ“ä½œæŒ‡å—](YYC3-Cater-è¿ç»´è¿è¥/æŠ€å·§ç±»/04-YYC3-Cater--æŠ€å·§ç±»-æ™ºèƒ½è¿ç»´å¹³å°æ“ä½œæŒ‡å—.md) - YYC3-Cater-è¿ç»´è¿è¥/æŠ€å·§ç±»
- [ğŸ”– YYCÂ³ ç¾å¤‡æ¼”ç»ƒä¸æ¢å¤æŠ€å·§](YYC3-Cater-è¿ç»´è¿è¥/æŠ€å·§ç±»/05-YYC3-Cater--æŠ€å·§ç±»-ç¾å¤‡æ¼”ç»ƒä¸æ¢å¤æŠ€å·§.md) - YYC3-Cater-è¿ç»´è¿è¥/æŠ€å·§ç±»
- [ğŸ”– YYCÂ³ ç›‘æ§å‘Šè­¦é…ç½®æŠ€å·§](YYC3-Cater-è¿ç»´è¿è¥/æŠ€å·§ç±»/02-YYC3-Cater--æŠ€å·§ç±»-ç›‘æ§å‘Šè­¦é…ç½®æŠ€å·§.md) - YYC3-Cater-è¿ç»´è¿è¥/æŠ€å·§ç±»
- [ğŸ”– YYCÂ³ ç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–è¿ç»´æŠ€å·§](YYC3-Cater-è¿ç»´è¿è¥/æŠ€å·§ç±»/06-YYC3-Cater--æŠ€å·§ç±»-ç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–è¿ç»´æŠ€å·§.md) - YYC3-Cater-è¿ç»´è¿è¥/æŠ€å·§ç±»
